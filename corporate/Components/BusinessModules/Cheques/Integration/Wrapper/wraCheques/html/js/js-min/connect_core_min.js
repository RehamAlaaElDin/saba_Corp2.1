var NUM_CENTYEAR=30;var BUL_TIMECOMPONENT=false;var BUL_YEARSCROLL=true;var RE_NUM=/^\-?\d+$/;var DEBUG=false;var calendars=[];var currentX=390;var currentY=650;function calendar1(b,c,g,f,a,d){if(c==null){c=""}this.gen_date=cal_gen_date1;this.gen_time=cal_gen_time1;this.gen_tsmp=cal_gen_tsmp1;this.prs_date=cal_prs_date1;this.prs_time=cal_prs_time1;this.prs_tsmp=cal_prs_tsmp1;this.popup=cal_popup1;this.get_target=cal_get_target;this.getImageDirPath=getImageDirPath;this.format=g||"dd/mm/yyyy";this.separator=f||"/";this.timeSeparator=a||":";this.dateTimeSeparator=d||" ";this.target_name=b;this.time_comp=BUL_TIMECOMPONENT;this.year_scroll=BUL_YEARSCROLL;calendars=getVariable(c,"calendars");this.id=calendars.length;calendars[this.id]=this}function cal_get_target(a){if(a==null){a=""}return document.forms[a+"form1"].elements[this.target_name]}function calculate_cal_position(i,k){var g=document.getElementById(k),a=g.getBoundingClientRect().y||g.getBoundingClientRect().top,b=g.getBoundingClientRect().x||g.getBoundingClientRect().left,f=window.innerHeight,c=window.innerWidth,d=window.scrollY||window.pageYOffset,h=200,j=253;if((a+h+g.offsetHeight)>=f){setVariable(i,"currentY",a-h+d)}else{setVariable(i,"currentY",a+g.offsetHeight+d)}if((b+j)>=c){setVariable(i,"currentX",b-(b+j-c)-20)}else{setVariable(i,"currentX",b)}}function cal_popup1(i,a,b){if(a!=null&&a.keyCode==27){document.getElementById("FloatCalendarDiv").style.display="none";return false}window.CALENDAR_PICKER_TRIGGER=this.target_name;if(i==null){i=""}var d=document.forms[i+"form1"].elements[this.target_name];if(!d){return cal_error("Error calling the calendar: no target control specified")}if(d.value==null){return cal_error("Error calling the calendar: parameter specified is not valid target control")}this.dt_current=this.prs_tsmp(b?b:d.value);if(!this.dt_current){return}if(!buttonsEnabled(i)){return}if(a!=null){calculate_cal_position(i,this.target_name)}var h=unescape(getResourcePath(i,getVariable(i,"calendarPagePath")));var g=document.getElementById(i+"FloatCalendarDiv");if(g){g.removeChild(g.childNodes[0])}else{g=createFloatingDiv(i+"FloatCalendarDiv",document.body)}var c=function(){document.getElementById("FloatCalendarDiv").style.display="none";window.removeEventListener("mousedown",j)};var j=function(m){var l=m.target;do{l=l.parentNode}while(l.id!=="FloatCalendarDiv"&&l.parentNode!==null);if(l.id=="FloatCalendarDiv"&&m.target.id!=="closeCalendarPopup"){return false}else{c()}};window.addEventListener("mousedown",j);g.style.position="absolute";g.style.width="253px";g.style.height=(this.time_comp?228:203)+"px";g.style.top=getVariable(i,"currentY")+"px";g.style.left=getVariable(i,"currentX")+"px";g.style.border="0px";g.style.display="block";g.style.zIndex="1050";var k=getVariable(i,"calendarPopup");k=k.replace(/<\\\//g,"</");g.innerHTML=k;var f=document.getElementById("calendarIframe");f.src=h+"?datetime="+this.dt_current.valueOf()+"&id="+this.id+"&namespace="+i+"&format="+escape(this.format)+"&separator="+escape(this.separator);if(window.CALENDAR_FOCUS_TRIGGER&&d.onfocus){window.execute(d,"onfocus",window.CALENDAR_FOCUS_TRIGGER)}}function cal_gen_tsmp1(a){return(this.gen_date(a)+" "+this.gen_time(a))}function cal_gen_date1(c){var b=this.format.split(this.separator);var a="";if(b[0]=="dd"){a=(c.getDate()<10?"0":"")+c.getDate()}else{if(b[0]=="mm"){a=(c.getMonth()<9?"0":"")+(c.getMonth()+1)}else{if(b[0]=="yyyy"){a=c.getFullYear()}}}a+=this.separator;if(b[1]=="dd"){a+=(c.getDate()<10?"0":"")+c.getDate()}else{if(b[1]=="mm"){a+=(c.getMonth()<9?"0":"")+(c.getMonth()+1)}else{if(b[1]=="yyyy"){a+=c.getFullYear()}}}a+=this.separator;if(b[2]=="dd"){a+=(c.getDate()<10?"0":"")+c.getDate()}else{if(b[2]=="mm"){a+=(c.getMonth()<9?"0":"")+(c.getMonth()+1)}else{if(b[2]=="yyyy"){a+=c.getFullYear()}}}return a}function cal_gen_time1(a){return((a.getHours()<10?"0":"")+a.getHours()+this.timeSeparator+(a.getMinutes()<10?"0":"")+(a.getMinutes())+this.timeSeparator+(a.getSeconds()<10?"0":"")+(a.getSeconds()))}function cal_prs_tsmp1(b){if(!b){return(new Date())}if(RE_NUM.exec(b)){return new Date(b)}var a=b.split(this.dateTimeSeparator);if(a.length==2){return this.prs_time(a[1],this.prs_date(a[0]))}else{return this.prs_date(b)}}function cal_prs_date1(g){var h=g.split(this.separator);if(h.length!=3){return cal_error("Invalid date format: '"+g+"'.\nFormat accepted is "+this.format+".")}if(!h[0]){return cal_error("Invalid date format: '"+g+"'.\nNo day of month value can be found.")}if(!RE_NUM.exec(h[0])){return cal_error("Invalid day of month value: '"+h[0]+"'.\nAllowed values are unsigned integers.")}if(!h[1]){return cal_error("Invalid date format: '"+g+"'.\nNo month value can be found.")}if(!RE_NUM.exec(h[1])){return cal_error("Invalid month value: '"+h[1]+"'.\nAllowed values are unsigned integers.")}if(!h[2]){return cal_error("Invalid date format: '"+g+"'.\nNo year value can be found.")}if(!RE_NUM.exec(h[2])){return cal_error("Invalid year value: '"+h[2]+"'.\nAllowed values are unsigned integers.")}var c=new Date();c.setDate(1);var b=getDay(this.format,g,this.separator);var f=getMonth(this.format,g,this.separator);var d=getYear(this.format,g,this.separator);if(f<1||f>12){return cal_error("Invalid month value: '"+f+"'.\nAllowed range is 01-12.")}c.setMonth(f-1);if(d<100){d=Number(d)+(d<NUM_CENTYEAR?2000:1900)}c.setFullYear(d);var a=new Date(d,f,0);c.setDate(b);if(c.getMonth()!=(f-1)){return cal_error("Invalid day of month value: '"+b+"'.\nAllowed range is 01-"+a.getDate()+".")}return(c)}function getDay(c,b,a){return getPart(c,b,"dd","1",a)}function getMonth(c,b,a){return getPart(c,b,"mm","1",a)}function getYear(c,b,a){return getPart(c,b,"yyyy","2005",a)}function getPart(g,f,b,a,d){var h=f.split(d);var c=g.split(d);if(c[0]==b){return h[0]}else{if(c[1]==b){return h[1]}else{if(c[2]==b){return h[2]}else{return a}}}}function cal_prs_time1(a,c){if(!c){return null}var b=String(a?a:"").split(this.timeSeparator);if(!b[0]){var d=new Date(c);c.setHours(0);if(c.getHours()!=0){c=d;c.setHours(1)}}else{if(RE_NUM.exec(b[0])){if(b[0]<24){c.setHours(b[0])}else{return cal_error("Invalid hours value: '"+b[0]+"'.\nAllowed range is 00-23.")}}else{return cal_error("Invalid hours value: '"+b[0]+"'.\nAllowed values are unsigned integers.")}}if(!b[1]){c.setMinutes(0)}else{if(RE_NUM.exec(b[1])){if(b[1]<60){c.setMinutes(b[1])}else{return cal_error("Invalid minutes value: '"+b[1]+"'.\nAllowed range is 00-59.")}}else{return cal_error("Invalid minutes value: '"+b[1]+"'.\nAllowed values are unsigned integers.")}}if(!b[2]){c.setSeconds(0)}else{if(RE_NUM.exec(b[2])){if(b[2]<60){c.setSeconds(b[2])}else{return cal_error("Invalid seconds value: '"+b[2]+"'.\nAllowed range is 00-59.")}}else{return cal_error("Invalid seconds value: '"+b[2]+"'.\nAllowed values are unsigned integers.")}}c.setMilliseconds(0);return c}function cal_error(a){if(DEBUG){console.log(a)}return new Date()}function cal_new_calendar1(a,c,d,h,g,b,f){a[c]=new calendar1(c,d,h,g,b,f)}var CALENDAR_FOCUS_COORDS={cellIndex:0,rowIndex:0};var DHTML=(document.getElementById||document.all||document.layers);var IE4=navigator.appName=="Microsoft Internet Explorer"&&!window.opera;var SAFARI=navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Windows")>-1&&navigator.userAgent.indexOf("Chrome")==-1;var FIREFOX=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;var ANDROID=navigator.userAgent.toLowerCase().indexOf("android")>-1;var IOS=(function(){var a=navigator.userAgent||navigator.vendor||window.opera;if(a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)){return true}return false})();var daysInMonth=[31,31,29,31,30,31,30,31,31,30,31,30,31];var debug=false;var SINGLE_CHECKBOX_PREFIX="_";var ENTER_KEYCODE=13;var TRIGGERED_REASON=[];var SELECTALL_NAME="|";var SELECTOR_INDICATOR="_Selector_";var FORMAT_VALIDATION_TRIGGER="FORMAT_VALIDATION";var REPLACE_CHILD_TRIGGER="REPLACE_CHILD";var AJAX_RESPONSE_TRIGGER="AJAX_RESPONSE";var KEY_PRESSED_TRIGGER="KEY_PRESSED";var CHANGED_SELECTION_TRIGGER="CHANGED_SELECTION";var SHOW_TAB_TRIGGER="SHOW_TAB";var DEFAULT_BUTTON_ACTION_TRIGGER="DEFAULT_BUTTON_ACTION";var CALENDAR_FOCUS_TRIGGER="CALENDAR_FOCUS_TRIGGER";var CALENDAR_PICKER_TRIGGER="CALENDAR_PICKER_TRIGGER";var GROUP_VALUE_FN=".GROUPVALUE()";var VALUE_FN=".VALUE()";var INSTANCE_FN=".INSTANCE()";var MAX_INSTANCE_FN=".MAXINSTANCE()";var LAST_INSTANCE_FN=".LASTINSTANCE()";var DISABLED_CLASS="edgeConnectDisabled";var DATE_TIME_PARTS=["DATE()","TIME()","DAY()","MONTH()","YEAR()","HOUROFDAY()","MINUTES()","SECONDS()"];var DATE_TIME_SUFFIXES=[".YEAR",".MONTH",".DAY",".HOUROFDAY",".MINUTES",".SECONDS"];var COMPONENT_SEPARATOR="__";var COMP_ID_REG=new RegExp("^(C[0-9]+"+COMPONENT_SEPARATOR+")+");var BACKSLASH_REG=/\\/g;var DOUBLEQUOTE_REG=/"/g;if((window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition)&&document.querySelectorAll("video").length>0){var recognition=new (window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition)();var noContinuousRecognition=true;try{recognition.continuous=true}catch(e){noContinuousRecognition=false}recognition.interimResults=false;try{recognition.start()}catch(e){}recognition.onresult=function(f){var c=0.5;var d=function(i,h){return i.indexOf(h)>-1};for(var b=f.resultIndex;b<f.results.length;++b){if(f.results[b].isFinal){if(parseFloat(f.results[b][0].confidence)>=parseFloat(c)){video=document.querySelector("video");var g=f.results[b][0].transcript;console.log("Recognised: "+g);if(d(g,"video")){if(d(g,"replay")){video.currentTime=0;video.play()}else{if(d(g,"play")){video.play()}else{if(d(g,"stop")){video.pause()}else{if(d(g,"volume")){var a=Math.floor(video.volume*10)/10;if(d(g,"increase")){if(a>=0.9){video.volume=1}else{video.volume+=0.1}}else{if(d(g,"decrease")){if(a<=0.1){video.volume=0}else{video.volume-=0.1}}else{if(d(g,"of")){video.muted=true}else{if(d(g,"on")){video.muted=false}}}}}}}}}}}}if(noContinuousRecognition){recognition.start()}}}function beforeInitForm(a){return true}function afterInitForm(a){return true}function beforeButtonClicked(b,g,a,c,i,f,h,d){return true}function afterButtonClicked(h,a,c,i,j,g,f,d,b){}function beforeSubmit(a,b,d,c){return true}function afterSubmit(a,b,d,c){}function beforeChangeTab(b,a,d,c){return true}function afterChangeTab(b,a,d,c){}function beforeGoForwards(b,a){return true}function afterGoForwards(b,c,a){}function beforeGoBack(a){return true}function afterGoBack(a,b){}function beforeGoNav(b,c,a){return true}function afterGoNav(b,c,a,d){}function beforeGoNavItem(a,b,c){return true}function afterGoNavItem(a,d,b,c){}function displayProcessingMessage(b,a){}function beforeElemShown(c,b,a){return true}function afterElemShown(c,b,a){}function beforeElemHidden(f,d,c,a,b){return true}function afterElemHidden(f,d,c,a,b){}function setElementDisabled(a){}function setElementEnabled(a){}function getContentDocumentNonLD(){if(frames.ecContent){if(frames.ecContent.contentDocument){return frames.ecContent.contentDocument}else{return frames.ecContent.document}}else{return document}}function changeLang(c){var a=getForm();var b=document.createElement("input");a.appendChild(b);b.type="text";b.name=b.id="LANGUAGE_MAP_REQUEST_ALIAS";b.value=c;ecSubmitForm(null,"CHANGE_LANGUAGE_MODE",null,null)}function addWidget(a,b,d){if(d==null){throw new Error("Deprecated call to addWidget parameter definitions changed.")}if(b==null){b=""}var c=getVariable(b,"WIDGET_LIST");if(c==null){c=new Object();setVariable(b,"WIDGET_LIST",c)}c[d]=a+d}function removeWidget(d,b){if(b==null){b=""}var c=getVariable(b,"WIDGET_LIST");if(c!=null){var a=c.indexOf(d);if(a>-1){array.splice(a,1)}}}function runElemShownWidgetHooks(c,b,a,f){var g=getVariable(b,"WIDGET_LIST");for(var d in g){if(this[c+"ElemShown"+g[d]]){this[c+"ElemShown"+g[d]](b,a,f)}}}function runElemHiddenWidgetHooks(f,d,c,b,a,h){var i=getVariable(d,"WIDGET_LIST");for(var g in i){if(this[f+"ElemHidden"+i[g]]){this[f+"ElemHidden"+i[g]](d,c,b,a,h)}}}function runShowTabWidgetHooks(c,b,a){var f=getVariable(b,"WIDGET_LIST");for(var d in f){if(this[c+"ShowTab"+f[d]]){this[c+"ShowTab"+f[d]](b,a)}}}function runChangeTabWidgetHooks(d,c,b){var g=getVariable(c,"WIDGET_LIST");var a=true;for(var f in g){if(this[d+"ChangeTab"+g[f]]){a&=this[d+"ChangeTab"+g[f]](c,b)}}return a}function runWidgetAjaxHooks(i,g,j,a){var k=getVariable(g,"WIDGET_LIST");var h=true;for(var b in k){try{var c=getObjectByPackageString(k[b]+"."+i);if(typeof c==="function"){h&=c(g,j,a)}}catch(d){}}return h}function getObjectByPackageString(a){var b=0,d,c=window;while(c&&(d=(a.split("."))[b++])){c=c[d]}return c}function isFormProcessing(d,g,c,a){var b=getVariable(d,"AJAX_QUEUE",0);if(b>0){var f=function(){c.apply(g,a)};setVariable(d,"AJAX_QUEUE_FUNCTION",f)}return(b>0)}function isTriggeredByConnect(){return(TRIGGERED_REASON.length>0)}function getTriggeredReason(){return(TRIGGERED_REASON.length>0?TRIGGERED_REASON[TRIGGERED_REASON.length-1]:"")}function execute(b,c,a){try{TRIGGERED_REASON.push(a);return b[c]()}finally{TRIGGERED_REASON.pop()}}function setArray(c,f,b,d){var a=window[c+f];if(a!=undefined&&a instanceof Array){a[b]=d}}function setVariable(a,c,b){window[a+c]=b}function getVariable(d,f,a){if(d==null){d=""}var c=d+f;var b=window[c];if(b!=undefined){return b}return((a!=null)?a:null)}function removeSpaces(a){a=""+a;var d=a.split(" ");var c="";for(var b=0;b<d.length;b++){c+=d[b]}return c}function isMaxLength(b,a){if(b.getAttribute&&b.value.length>a){b.value=b.value.substring(0,a)}}function getMsg(){if(arguments.length<2){log("Internal Error - Invalid call to getMsg, expecting at least 2 args and received "+arguments.length);return("")}var b=arguments[0];if(b==null){b=""}var c=(b=="@GOT_MSG@")?arguments[1]:getVariable(b,arguments[1]);for(var a=2;a<arguments.length;a++){c=substituteVariable(c,arguments[a])}return(c)}function substituteVariable(g,b){var a=b.indexOf("=");if(a>-1){var f=b.substring(0,a);var d=b.substring(a+1);var c=RegExp("\\$\\$"+f+"\\$");return g.replace(c,d)}return g}function getForm(a){if(a==null){a=""}return(document.forms[a+"form1"])}function getResourcePath(a,b){var c=b;if(c.substring(0,2)=="./"){c=getVariable(a,"rootContext")+c.substring(1,c.length)}return(c)}function getArrayElement(c,f,b){if(c==null){c=""}var a=getVariable(c,f);var d=a[b];if(d==null){d=""}return d}function setArrayElement(c,f,b,d){if(c==null){c=""}var a=getVariable(c,f);a[b]=d}function enableSubmit(b,a){if(b==null){b=""}setVariable(b,"submitEnabled",a)}function isSubmitEnabled(a){if(a==null){a=""}return(getVariable(a,"submitEnabled"))}function setFormSubmitted(b,a){if(a==null){a=""}setVariable(a,"hasSubmitted",b)}function isFormSubmitted(a){if(a==null){a=""}return(getVariable(a,"hasSubmitted"))}function buttonsEnabled(a){return(isSubmitEnabled(a)&&!isFormSubmitted(a))}function ecSubmitValidForm(c,f,a,h,g,b){var d=getFormElems(c);if(!doFieldValidation(null,null,b,d,true,c,g)){return false}return(ecSubmitForm(c,f,a,h))}function ecSubmitForm(b,c,a,d){if(b==null){b=""}if(a==null){a=false}if(d==null){d=""}if(isSubmitEnabled(b)){if(beforeSubmit(b,c,a,d)==false){return false}if(hideECForm(b,c,a,d)==false){return false}return ecDoSubmit(b,c,a,d)}return false}function ecDoSubmit(d,h,a,i){var g=getForm(d);if(g!=null){if(g.MODE!=null){g.MODE.value=h}g.action=getVariable(d,"act");if(a&&i!=null&&i.length>0){if(g.action.indexOf("#")>0){g.action=g.action.substring(0,g.action.indexOf("#"))}var c=getCompID(d,i);if(c==null){c=""}var b=stripPrefix(d,i);g.action=g.action+"#"+d+c+"ANCHOR"+b}if(!isFormSubmitted(d)){setFormSubmitted(true,d);g.submit();suspendDocument(d,document,g);afterSubmit(d,h,a,i);return true}}else{log("Could not locate form for namespace '"+d+"'")}return false}function suspendDocument(c,b,a,d){displayProcessingMessage(c,b);storeCallersEnabledControls(c,b,a);enableControls(c,false,false,d)}function addElement(f,c,d){var b=f.getElementsByTagName(c);for(var a=0;a<b.length;a++){d[d.length]=b[a]}}function getFormElemsOld(i,d){if(i==null){i=""}var a=getForm(i);var g=null;if(d!=null&&d!=""){var k=document.getElementById(d);g=k.getElementsByTagName("div")}else{g=a.getElementsByTagName("div")}var b=[];for(var j=0;j<g.length;j++){var f=false;if(g[j].getElementsByTagName("div").length>0){var c=g[j].getElementsByTagName("div");for(var h=0;h<c.length;h++){if(c[h].hasChildNodes()){f=true;break}}}if(f){continue}addElement(g[j],"input",b);addElement(g[j],"select",b);addElement(g[j],"textarea",b);addElement(g[j],"a",b);addElement(g[j],"button",b);addElement(g[j],"img",b)}return(b)}function getElementsByTagNames(c,l){var a=[];l=l.split(",");for(var f=0,b=l.length;f<b;f++){var g=c.getElementsByTagName(l[f]);for(var d=0,k=g.length;d<k;d++){a[a.length]=g[d]}}var h=a[0];if(!h){return[]}if(h.sourceIndex){a.sort(function(j,i){return j.sourceIndex-i.sourceIndex})}else{if(h.compareDocumentPosition){a.sort(function(j,i){return 3-(j.compareDocumentPosition(i)&6)})}}return a}function getElementsByTagNamesQueryAll(f,b){var g=[];var a=f.querySelectorAll(b);for(var c=0,d=g.length=a.length;c<d;c++){g[c]=a[c]}return g}function getFormElems(a,d){(a==null)&&(a="");var c=getForm(a),b;b=(d!=null&&d!="")?document.getElementById(d):c;if(typeof document.querySelectorAll!="undefined"){return getElementsByTagNamesQueryAll(b,"input,a,img,textarea,select,button")}else{if(typeof b.sourceIndex!="undefined"||typeof b.compareDocumentPosition!="undefined"){return getElementsByTagNames(b,"input,a,img,textarea,select,button")}}return getFormElemsOld(a,d)}function buildCompID(){var d=arguments[0];if(d==null){d=""}var f=arguments[arguments.length-1];if(d.length>0&&f.indexOf(d)==0){f=f.substring(d.length)}var b=getCompID(d,f);if(b==null){b=""}else{f=f.substring(b.length)}var a=d+b;for(var c=1;c<arguments.length-1;c++){a+=arguments[c]}a+=f;return(a)}function prefixCompID(c,a,d){var b=getCompID(c,a);if(b!=null){return(b+d)}return(d)}function getCompID(c,d){if(d!=null&&d.indexOf(COMPONENT_SEPARATOR)>0){var b=d;if(c!=null&&c.length>0&&d.indexOf(c)==0){b=b.substring(c.length)}var a=b.match(COMP_ID_REG);if(a!=null&&a.length>0){return(a[0])}}return(null)}function stripPrefix(b,d){if(d!=null){if(b==null){b=""}var a=getCompID(b,d);if(a==null){a=""}var c=b+a;if(d.indexOf(c)==0&&c.length>0){return(d.substring(c.length))}if(d.indexOf(a)==0&&a.length>0){return(d.substring(a.length))}}return(d)}function changeTab(i,k,b,j){if(k==null){k=""}if(beforeChangeTab(i,k,b,j)==false){return}var d=document.getElementById(k+i);if(d!=null&&!((" "+d.className+" ").replace(/[\n\t]/g," ").indexOf(" StandardTabUnselected ")>-1||(" "+d.className+" ").replace(/[\n\t]/g," ").indexOf(" StandardTabSelected ")>-1)){if(runChangeTabWidgetHooks("before",k,i)==false){return}}var g=document.getElementById(k+i);if(g!=null&&g.style.display=="none"){return}var h=buildCompID(k,"Pane",i);var f=document.getElementById(h);if(f!=null){setActiveTab(k,i);var l=f.parentNode;for(var m=0;m<l.childNodes.length;m++){if(l.childNodes[m].tagName&&l.childNodes[m].tagName.toLowerCase()=="div"){if(l.childNodes[m]==f){l.childNodes[m].style.display="block"}else{if(l.childNodes[m].id.indexOf("Pane")>=0){l.childNodes[m].style.display="none"}}}}}f=document.getElementById(k+i);if(f!=null){var l=f.parentNode;for(var m=0;m<l.childNodes.length;m++){var a=l.childNodes[m].tagName?l.childNodes[m].tagName.toLowerCase():"";var c=displayTabsHeadersAsLinks()?a=="div":a=="button";if(a&&(a=="td"||c)){if(l.childNodes[m].id.indexOf("spacer")>0){continue}if(l.childNodes[m]==f){l.childNodes[m].className=b;setAriaSelectedTab(l.childNodes[m],true)}else{if(j!=""&&l.childNodes[m].id.indexOf("Pane")<0){l.childNodes[m].className=j}setAriaSelectedTab(l.childNodes[m],false)}}}}if(getTriggeredReason()!=AJAX_RESPONSE_TRIGGER){afterChangeTab(i,k,b,j)}runChangeTabWidgetHooks("after",k,i)}function setAriaSelectedTab(g,b){if(!g){return}var f=b?"0":"-1";var d=g.children;var a=displayTabsHeadersAsLinks();if(a&&d){for(var c=0;c<d.length;c++){d[c].setAttribute("aria-selected",b);d[c].setAttribute("tabindex",f)}}g.setAttribute("aria-selected",b);if(!a){g.setAttribute("tabindex",f)}}function displayTabsHeadersAsLinks(){return(typeof a11yOptions!=="undefined")&&a11yOptions.tabsHeadersAsLinks===true}function getActiveTab(a){return a.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("INPUT")[0]}function setActiveTab(b,d){var c=document.getElementById(b+d);var a=null;if((" "+c.className+" ").replace(/[\n\t]/g," ").indexOf(" StandardTabUnselected ")>-1||(" "+c.className+" ").replace(/[\n\t]/g," ").indexOf(" StandardTabSelected ")>-1){a=getActiveTab(c)}else{if(this["getWidgetActiveTab"]){a=getWidgetActiveTab(c)}if(a==null){a=getActiveTab(c)}}if(a!=null&&a.name.indexOf("CONNECT_ACTIVE_TAB")>=0){a.value=d}setVariable(b,"activeTabName",d)}function showTab(f,k){if(f==null){return}if(k==null){k=""}var i=f;runShowTabWidgetHooks("before",k,i);var l=null;do{if(i.id!=null&&i.id.indexOf("Pane")>=0){var j=function(c,o,n){var m=document.getElementById(o);if(!m&&c){m=c.getElementById(n?n:o)}return m};var b=getCompID(k,i.id);if(b==null){b=""}var h=stripPrefix(k,i.id);var g=h.indexOf("Pane");var a=getContentDocumentNonLD();if(g==0){l=j(a,h,i.id);h=h.substring(4)}h=k+b+h;var d=j(a,h);if(d.onclick){execute(d,"onclick",SHOW_TAB_TRIGGER)}else{if(d.getElementsByTagName("a")[0]){execute(d.getElementsByTagName("a")[0],"click",SHOW_TAB_TRIGGER)}}}i=i.parentNode}while(i!=null);runShowTabWidgetHooks("after",k,l)}function setFocusToFirst(l,k,n){if(k!=null&&k!=""){try{var c=document.getElementById(k);if(c!=null){focusOn(l,k);return}}catch(h){}}if(n!=null){var a=document.getElementById(n);if(a!=null){var j=a.getElementsByTagName("*");for(var f=0;f<j.length;f++){if(j[f].tagName=="INPUT"||j[f].tagName=="SELECT"){var c=j[f];var m=c.parentNode;var b=c.style.visibility=="hidden"||c.style.display=="none";while(!b&&m!=null&&m!=a){b=b||(m.style.visibility=="hidden"||m.style.display=="none");m=m.parentNode}if(!b){try{focusOn(l,c.id);return}catch(h){}}}}}return}var d=getForm(l).elements;for(var f=0;f<d.length;f++){if(d[f].tagName=="INPUT"||d[f].tagName=="SELECT"){if(d[f].type&&d[f].type!="hidden"&&d[f].type!="button"){var g=getCellParent(d[f],l);if(d[f].style.visibility!="hidden"&&d[f].style.display!="none"&&g!=null&&g.style.visibility!="hidden"&&g.style.display!="none"){try{focusOn(l,d[f].id);break}catch(h){}}}}}}function buttonClicked(A,q,w,z,a,o,n,h,x,p,v,s){if(isFormProcessing(z,this,buttonClicked,arguments)){return false}if(z==null){z=""}if(!buttonsEnabled(z)){return false}if(jscss("check",document.getElementById(o),DISABLED_CLASS)){return false}if(beforeButtonClicked(A,q,w,z,a,o,n,h)==false){return false}var d=buildCompID(z,"p4_",o);var l=document.getElementById(d);if(l!=null){var b=l;while((b=getParentRow(b))!=null){if(b.onclick){execute(b,"onclick",CHANGED_SELECTION_TRIGGER)}}}if(window.getFormElems&&n){if(s){var r=findIdsToValidate(o,s,z);if(!validateDependentItems(r,o,q&&v,w,z,p)){return false}}else{var f=getFormElems(z);if(!doFieldValidation(A,w,q&&v,f,h,z,p)){return false}}}else{if(window.getFormElems){var m=getFormElems(z);var j=[];var g="";for(var u=0;u<m.length;u++){var c=m[u];var y=c.name;if(c.id.indexOf(SELECTOR_INDICATOR)>0&&j.indexOf(y)==-1){j.push(y)}}if(j.length>0){for(var u=0;u<j.length;u++){g=g+j[u]+";"}var k=document.createElement("input");k.type="text";k.name="ROW_SELECTORS_LIST";k.value=g;k.style.display="none";getForm(z).appendChild(k)}}}if(!displayConfirmMsg(x)){return false}var t=ecSubmitForm(z,unescape(A),a,unescape(z+o));afterButtonClicked(A,q,w,z,a,o,t,n,h);return false}function displayConfirmMsg(a){if(a&&a!=""){if(!confirm(a)){return false}}return true}function findIdsToValidate(g,n,m){var h="";if(n){var q=n;var c=document.getElementById(m+g);if(q=="prevQ"){var k=getFormElems(m,null);for(var l=0;l<k.length;l++){if(k[l]==c){if(l>0){for(var f=l-1;f>-1;f--){if(k[f].tagName=="INPUT"||k[f].tagName=="SELECT"||k[f].tagName=="TEXTAREA"){h=appendId(k[f],h,m);break}}}break}}}else{if(q=="preInPhase"){var k=getFormElems(m,null);for(var l=0;l<k.length;l++){if(k[l]==c){break}h=appendId(k[l],h,m)}}else{if(q=="preInRow"){var r=getParentNode(c,"tr");var k=getFormElems(m,r.id);for(var l=0;l<k.length;l++){if(k[l]==c){if(l>0){for(var f=l-1;f>-1;f--){h=appendId(k[f],h,m)}}break}}}else{if(q.indexOf("preInGrp")==0){if(m==null){m=""}var p=q.length>8?q.substring(8):"";var d=getCompID(m,p);if(d==null){d=""}var a=stripPrefix(m,p);var o=m+d+"p1_"+a;var k=getFormElems(m,o);for(var l=0;l<k.length;l++){if(k[l]==c){if(l>0){for(var f=l-1;f>-1;f--){h=appendId(k[f],h,m)}}break}}}else{if(q=="allQs"){var k=getFormElems(m,null);for(var l=0;l<k.length;l++){h=appendId(k[l],h,m)}}else{var k=getFormElems(m,null);var b=q.split("|");for(var l=0;l<k.length;l++){for(var f=0;f<b.length;f++){if(k[l].id.indexOf(b[f])>-1){h=appendId(k[l],h,m)}}}}}}}}}return h}function appendId(d,c,b){if(d.tagName=="INPUT"||d.tagName=="SELECT"||d.tagName=="TEXTAREA"){var a=c;var f=(b!=""&&d.id.indexOf(b)==0)?d.id.substring(b.length):d.id;if(c==null||c==""){a=f}else{a+="|"+f}return a}return c}function validateDependentItems(b,g,a,f,q,s){var p=[];var l=splitstring(b,"|",false);if(l.length>0&&l[0]!=""){for(var n=0;n<l.length;n++){var k=getCompID(q,l[n]);if(k==null){k=""}var d=stripPrefix(q,l[n]);var c=q+k+"SEL_"+d;var r=[];var o=findElement(c,"",r);if(o==null){c=q+l[n];r=[];o=findElement(c,"",r)}if(r.length==0){r.push(o)}for(var m=0;m<r.length;m++){var h=r[m];if(h!=null&&!h.disabled&&h.type!="button"&&h.type!="image"){p.push(h)}}}if(this["formatCheckElems"]){if(!doFieldValidation(g,f,a,p,false,q,s)){return false}}}return true}function doFieldValidation(d,a,g,b,c,f,h){if(a!=null&&a.length>0&&a!="undefined"){if(window.mandCheckRow&&(g==null||g)){if(!mandCheckRow(a,f,d,h,c)){return false}}}else{if(window.mandCheckElems&&(g==null||g)){if(!mandCheckElems(b,f,d,h,c)){return false}}}if(window.formatCheckElems&&!formatCheckElems(b,f,h)){return false}return true}function goForwards(j,c,g,b,l,m){if(isFormProcessing(j,this,goForwards,arguments)){return false}if(j==null){j=""}if(!buttonsEnabled(j)){return false}if(jscss("check",g,DISABLED_CLASS)){return false}if(c==null){c=""}if(beforeGoForwards(j,c)==false){return false}var f="F";var h=null;if(g!=null){h=unescape(g.id);f=prefixCompID(j,h,f);var i=getParentNode(g,"tr");if(i!=null&&i.onclick){execute(i,"onclick",CHANGED_SELECTION_TRIGGER)}}if(window.mandCheckElems){var a=getFormElems(j);if(!doFieldValidation(null,null,m,a,true,j,l)){return false}}var d=b;if(d==null||d==""){d=getVariable(j,"forwardsConfirmMsg")}if(!displayConfirmMsg(d)){return false}var k=ecSubmitForm(j,f+c,null,h);afterGoForwards(j,k,c);return false}function goBack(g,b,f){if(isFormProcessing(g,this,goBack,arguments)){return false}if(g==null){g=""}if(!buttonsEnabled(g)){return false}if(jscss("check",b,DISABLED_CLASS)){return false}if(beforeGoBack(g)==false){return false}var d=f;if(d==null||d==""){d=getVariable(g,"backConfirmMsg")}if(!displayConfirmMsg(d)){return false}var h="P";var c=null;if(b!=null){c=unescape(b.id);h=prefixCompID(g,c,h)}var a=ecSubmitForm(g,h,null,c);afterGoBack(g,a);return false}function goNav(f,h,c,b){if(isFormProcessing(f,this,goNav,arguments)){return false}if(f==null){f=""}if(!buttonsEnabled(f)){return false}if(beforeGoNav(f,h,c)==false){return false}if(h!=null&&h.length>0){var g=getForm(f).elements[h];if(g!=null){g.value=c}}if(window.formatCheckElems){if(!formatCheckElems(getFormElems(f),f)){return false}}var i=prefixCompID(f,h,"N");var d=null;if(b!=null){d=unescape(b.id)}var a=ecSubmitForm(f,i,null,d);afterGoNav(f,h,c,a);return false}function goNavItem(f,j,a,i,b,c,h){if(b=="NAVMENU_"&&this["beforeMenuSubmit"]&&!beforeMenuSubmit(null,b,f)){return false}if(isFormProcessing(f,this,goNavItem,arguments)){return false}if(f==null){f=""}if(beforeGoNavItem(f,j)==false){return false}if(a&&!doFieldValidation(j,null,i,getFormElems(f),true,f,h)){return false}var d=null;if(c!=null){d=unescape(c.id)}var g=ecSubmitForm(f,buildCompID("",b,j),null,d);afterGoNavItem(f,g,j);return false}function popup(B,p,g,n,x,o){if(B==null){B=""}if(p==null||p.length==0){p="width=300,height=300"}if(isSubmitEnabled(B)){var y=getForm(B);storeCallersEnabledControls(B,document,y);enableControls(B,false);var k,j;if(y.PAGE){k="PAGE";j=y.PAGE.value}else{k=x;j=y.elements[x].value}var w=getVariable(B,"popupAct");var r=(w.indexOf("?")>-1)?"&":"?";var h=w+r+"MODE="+o+"&"+k+"="+j+"&namespace="+B;h=addSubSessionIdToParameters(h,B);if("window"==g){var z="popup"+getSubSessionId(B);window.open(h,z,p+popupParams)}else{n=n.replace(/<\\\//g,"</");var u=p.substring(p.indexOf("h=")+2,p.indexOf(","));var q=p.substring(p.indexOf("t=")+2);var s=n.substring(0,n.indexOf("$$POPUPURL$"));var d=n.substring(n.indexOf("$$POPUPURL$")+11);var a=createFloatingDiv("greyBackground",document.body);if((navigator.appName=="Microsoft Internet Explorer")&&(!window.XMLHttpRequest)){a.style.position="absolute";a.style.height=calcBrowserHeight()+"px"}else{a.style.position="fixed";a.style.height="100%"}if(IE4&&msieversion()<=6){hideSelects()}a.style.width="100%";a.style.left="0";a.style.top="0";a.style.backgroundColor=getBackgroundGrey();setOpacity(a,getOpacity());a.style.zIndex="99";var b=createFloatingDiv("topBody",document.body);b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width="100%";b.style.height="100%";b.style.zIndex="100";b.innerHTML=s+h+d;var c=document.getElementById("FloatPopupDiv");c.style.position="absolute";c.style.width=u+"px";c.style.height=q+"px";var A=getWindowWidth();var i=getWindowHeight();var v=(A>u)?(A-u)/2:0;var m=(i>q)?(i-q)/2:0;c.style.left=v+"px";c.style.top=m+"px"}enableSubmit(B,false)}}function hideSelects(a){selects=document.getElementsByTagName("select");for(var b=0;b<selects.length;b++){selects[b].style.visibility="hidden"}}function msieversion(){var b=window.navigator.userAgent;var a=b.indexOf("MSIE ");if(a>0){return parseInt(b.substring(a+5,b.indexOf(".",a)))}else{return 0}}function setOpacity(a,b){a.style.opacity=b;a.style.MozOpacity=b;a.style.filter="alpha(opacity="+(parseFloat(b)*100)+")"}function getOpacity(){return"0.75"}function getBackgroundGrey(){return"#000000"}function getLinks(n,g,k){var o=n.links.length;var d=[];for(var h=0;h<o;h++){var f=n.links[h];var m=(typeof f.onclick!="undefined"&&f.onclick!=null);var b=f.getAttribute("onclick")!=null;var a=(m||b)&&(typeof f.disabled=="undefined"||g||!f.disabled);if(a){var j=(m)?f.onclick.toString():"";var c=(b)?f.getAttribute("onclick"):"";if(k==""||hasNS(j)||hasNS(c)){d.push(f)}}}return(d)}function hasNS(b,a){return(b.indexOf("'"+a+"'")>-1||b.indexOf('"'+a+'"')>-1)}function storeCallersEnabledControls(g,f,d){if(g==null){g=""}var h=d.elements;var b=0;for(var c=0;c<h.length;c++){if(!h[c].disabled){setArrayElement(g,"enabledControls",b++,h[c])}}var a=getLinks(f,false,g);for(var c=0;c<a.length;c++){setArrayElement(g,"enabledLinks",c,a[c])}}function enableControls(k,n,d,a){if(k==null){k=""}var b=getVariable(k,"enabledControls");if(b){var o=function(i){i.disabled=!n};for(var f=0;f<b.length;f++){var g=b[f];if(d&&!(g.type=="button"||g.type=="image")){continue}var m=!n&&(g==document.activeElement)&&g.type=="button"&&a!=null&&g.id!=a;if(m){(function(i){setTimeout(o(i),150)})(g)}else{o(g)}}}var h=getVariable(k,"enabledLinks");if(h){var c=function(i){if(!i){i=window.event}if(i.stopPropagation){i.stopPropagation();i.preventDefault()}else{i.keyCode=0;i.cancelBubble=true}return false};var l=function(i){i.disabled=true;i.original_onclick=i.onclick;i.onclick=c};for(var f=0;f<h.length;f++){var j=h[f];if(n&&j.disabled){j.disabled=false;j.onclick=j.original_onclick}else{if(!n&&!j.disabled){var m=(j==document.activeElement)&&a!=null&&j.id!=a;if(m){(function(i){setTimeout(l(i),150)})(j)}else{l(j)}}}}}}function unpopup(b,h,a,c,g){if(b==null){b=""}enableControls(b,true);enableSubmit(b,true);var d=getForm(b);if(d!=null){if(d.PAGE){d.PAGE.value=h}else{d.elements[a]&&(d.elements[a].value=c)}}ecSubmitForm(b,g)}function cancelpopup(b,h,a,c,g){if(b==null){b=""}enableControls(b,true);enableSubmit(b,true);var d=getForm(b);if(d!=null){if(d.PAGE){d.PAGE.value=h}else{d.elements[a].value=c}}ecSubmitForm(b,g)}function loadProduct(d,f,b,c){var a=getUrl(d,f,b,"0",c);window.location=a}function getUrl(f,g,b,d,c){var a;if(c==null){c=""}if(b==null){b=""}a=getVariable(c,"act")+"?MODE="+getVariable(c,"controllerMode")+"&PAGE="+d+"&PRODUCT="+escape(f)+"&PRESENTATION_TYPE="+escape(b);if(g!=null&&g.length>0){a+=("&"+g)}return a}function preview(d,g,b){var a=unescape(location.href);var c=a.indexOf("?");var h=a.substring(c);ndxParamValueEnd=h.indexOf("=");var f=h.substring(ndxParamValueEnd+1,h.length);if(f=="y"){loadProduct(d,g,b)}}function addSubSessionIdToParameters(c,a){var b=getForm(a);if(b&&b.SUBSESSIONID){c+="&SUBSESSIONID="+b.SUBSESSIONID.value}return c}function getSubSessionId(a){var b=getForm(a);if(b&&b.SUBSESSIONID){return b.SUBSESSIONID.value}return""}function get(b,a){return getArrayElement(a,"session",b)}function put(c,b,a){setArrayElement(a,"session",c,b)}function getUncheckedCheckboxValue(b,a){return getArrayElement(a,"checkbox",b)}function putUncheckedCheckboxValue(c,b,a){setArrayElement(a,"checkbox",c,b)}function putUncheckedCheckboxValues(a,c){for(var b=0;b<a.length;b+=2){setArrayElement(c,"checkbox",a[b],a[b+1])}}function storeValues(d){if(d==null){d=""}var c=getForm(d).elements;var g;var a;var b;for(b=0;b<c.length;b++){a=c[b];g=c[b].name;var f=getElementValue(a,d);put(g,f,d)}}function getElementValue(d,j,k){if(j==null){j=""}if(d==null){return""}if(d.tagName=="FIELDSET"){return getElementValue(d.getElementsByTagName("input")[0],j,k)}if(d.type=="text"||d.type=="textarea"||d.type=="password"||d.type=="file"||d.type=="hidden"){return d.value}else{if(d.type=="select-one"){for(var c=0;c<d.length;c++){if(d[c].selected){return d[c].value}}return""}else{if(d.type=="select-multiple"){var h=getCompID(j,d.id);if(!h){h=""}var l="";var b=0;if(d.id!=null&&d.id.indexOf(j+h+SELECT_LIST_PREFIX)==0){for(var c=0;c<d.length;c++){if(c>0){l+="|"}l+=d.options[c].value}}else{for(var c=0;c<d.length;c++){if(d.options[c].selected){if(b>0){l+="|"}l+=d.options[c].value;b++}}}return l}else{if(d.type=="checkbox"){var l="";var m;if(d.id.indexOf(SELECTOR_INDICATOR)>0){m=document.getElementsByName(d.name)}else{var f=d.parentNode;while(f&&!f.id){f=f.parentNode}m=f.getElementsByTagName("input")}if(d.name!=null&&(d.name.indexOf(SINGLE_CHECKBOX_PREFIX)==0)){var g="";if(m[0].checked){g=m[0].value.substring(0,m[0].value.indexOf("|"))}else{g=m[0].value.substring(m[0].value.indexOf("|")+1)}m[1].value=g;return g}for(var c=0;c<m.length;c++){if(!m[c].parentNode.disabled){if(m[c].checked){if(l.length>0){l+="|"}l+=m[c].value}else{if(k){var a=getUncheckedCheckboxValue(d.name,j);if(a!=null&&a.length>0){if(l.length>0){l+="|"}l+=a}}}}}return l}else{if(d.type=="radio"){if(d.name==null||d.name==""){return""}var m;if(d.id.indexOf(SELECTOR_INDICATOR)>0){m=document.getElementsByName(d.name)}else{var f=d.parentNode;while(f&&!f.id){f=f.parentNode}m=f.getElementsByTagName("input")}for(var c=0;c<m.length;c++){if(m[c].checked){return m[c].value}}return""}else{if(d.type==null&&d[0]!=null){if(d[0].type=="radio"){for(var c=0;c<d.length;c++){if(d[c].checked){return d[c].value}}}return""}else{if(d.value){return d.value}}}}}}}return""}function splitstring(a,f,h,i){if(i==null){i=false}var d=[];var c;var b=0;while(true){c=a.indexOf(f,b);if(c>-1){var g=a.substring(b,c);if(i||g.length!=0){d[d.length]=g}b=c+f.length}else{d[d.length]=a.substring(b);break}}return d}function endsWith(d,c){var b=d.length;var a=b-c.length;if(a<0){return false}if(d.substring(a,b)==c){return true}return false}function isRadio(a){return(a&&a.type&&a.type.toUpperCase()=="RADIO")}function isCheckBox(a){return(a&&a.type&&a.type.toUpperCase()=="CHECKBOX")}function isSelectList(a){return(a&&a.type&&(a.type.toUpperCase()=="SELECT-ONE"||a.type.toUpperCase()=="SELECT-MULTIPLE"))}function isTransferableList(a){return(a.name&&a.name.indexOf(SELECT_LIST_PREFIX)>-1)}function isText(a){return(a&&a.type&&a.type.toUpperCase()=="TEXT")}function isMultiSelectionList(a){return(a&&a.type&&(a.type.toUpperCase()=="SELECT-MULTIPLE")||isCheckBox(a)||isTransferableList(a))}function getGroupComp(a){return((isRadio(a)||isCheckBox(a))?document.getElementsByName(a.name):a)}function getGroupValue(b,g){var c=getGroupComp(b);var d=isTransferableList(c);var f="";for(var a=0;a<c.length;a++){if(d||c[a].selected||c[a].checked){if(c[a].checked){f+=c[a].alt}else{if(d||c[a].selected){var h=c[a].id;if(g!=null&&g.length>0&&h.indexOf(g)==0){h=h.substring(g.length)}h=h.substring(0,h.indexOf("__"));f+=h}}if(!isMultiSelectionList(b)){break}else{if(f.length>0){f+="|"}}}}if(f.lastIndexOf("|")==(f.length-1)){f=f.substring(0,f.length-1)}return(f)}function buildExpression(p,o,f){var g=p.split("^");var n=[];for(var h=0;h<g.length;h++){var p=g[h];var d=g[h];if(n[p]!=null){g[h]=n[p]}else{for(var k=0;k<p.length;k++){if(p.length>3&&p.charAt(k)=="$"&&p.charAt(k+1)=="$"&&p.indexOf("$",k+2)>-1){var m=p.substring(k+2,p.indexOf("$",k+2));var c=document.getElementsByName(f+m)[0];if(c==null){if(m.indexOf(GROUP_VALUE_FN)>0){m=m.substring(0,m.indexOf(GROUP_VALUE_FN));var l=document.getElementsByName(f+SELECT_LIST_PREFIX+m)[0];if(l==null){l=document.getElementsByName(f+m)[0]}if(l!=null){val=getGroupValue(l,f)}else{val=get(f+m+GROUP_VALUE_FN,o)}}else{val=get(f+m,o)}}else{val=getElementValue(c,o,true)}var b=0;if(val!=""&&(val.charAt(0)!="0"||val=="0")&&!isNaN(val)){if(k>0){if(p.charAt(k-1)=='"'){b=1;if(k>2&&(p.substring(k-3,k-1)=="=="||p.substring(k-3,k-1)=="!=")){b=0}else{var a=p.indexOf("$",k+2);if(a<(p.length-3)&&(p.substring(a+2,a+4)=="=="||p.substring(a+2,a+4)=="!=")){b=0}}}}}else{if(val.indexOf("\\")>-1){val=val.replace(BACKSLASH_REG,"\\\\")}if(val.indexOf('"')>-1){val=val.replace(DOUBLEQUOTE_REG,'\\"')}}p=p.substring(0,k-b)+val+p.substring(p.indexOf("$",k+2)+1+b)}}n[d]=p;g[h]=p}}return g}function evalMultiSelect(expr,pipeLoc){while(pipeLoc>=0){var startQuoteIndex=expr.lastIndexOf('"',pipeLoc)+1;var endQuoteIndex=expr.indexOf('"',pipeLoc);var nextChar=expr.charAt(pipeLoc+1);if(startQuoteIndex>=0&&endQuoteIndex>=0&&nextChar!="|"){var keyVals=expr.substring(startQuoteIndex,endQuoteIndex);var vals=splitstring(keyVals,"|",false);for(var q=0;q<vals.length;q++){if(vals[q].length>0){var newExpr=expr.substring(0,startQuoteIndex)+vals[q]+expr.substring(endQuoteIndex);var intPipeLoc=checkIfMultiValue(newExpr);if(intPipeLoc>=0){if(evalMultiSelect(newExpr,intPipeLoc)){return true}}else{if(jsep.eval(newExpr)){return true}}}}pipeLoc=expr.indexOf("|",endQuoteIndex)}else{if(endQuoteIndex>=0){pipeLoc=expr.indexOf("|",endQuoteIndex)}else{pipeLoc=-1}}}return false}function getRowPart(f){if(f.indexOf("_R")>0){var b=f.substring(f.lastIndexOf("_R")+2);var d=true;for(var c=0;c<b.length;c++){var a=b.charAt(c);if(d){if(isNaN(parseInt(a))){return""}d=false}else{if(isNaN(parseInt(a))&&a!="_"){return""}if(a=="_"){d=true}}}return(b)}return""}function checkHidden(questions,expr,keepColumnHeadings,saveData,naType,ns,compID){if(ns==null){ns=""}if(compID==null){compID=""}if(!DHTML||expr==null||expr.length==0){return true}var currentTabId="";var nsCompID=ns+compID;var curFocus=getVariable(ns,"CURRENT_FOCUS");var exprArray=buildExpression(expr,ns,compID);var qArray=splitstring(questions,"^",false);var keepHeadingArray=splitstring(keepColumnHeadings,"^",false);var saveDataArray=splitstring(saveData,"^",false);var naTypeArray=splitstring(naType,"^",false);var resultArray=[];var noRowsDisplayed;var currentQ="";for(var i=qArray.length-1;i>=0;i--){var q=qArray[i];var rowPart=getRowPart(q);if(rowPart.length>0){var rind=q.lastIndexOf("_R");var cq=q.substring(0,rind);if(cq!=currentQ){currentQ=cq;noRowsDisplayed=true}}else{currentQ=q;noRowsDisplayed=true}var tblSelector;var p_layout=[];p_layout[0]=document.getElementById(nsCompID+q);if(!p_layout[0]){p_layout[0]=document.getElementById(nsCompID+"FS_"+q)}var p_tabPane=[];if(document.getElementById(nsCompID+"Pane"+q)!=null){p_tabPane[0]=document.getElementById(nsCompID+"Pane"+q);setFormElementDisabled(p_tabPane[0],false)}else{if(rowPart.length>0){var pickerId=nsCompID+q.substring(0,q.lastIndexOf("_R"))+"_picker_R"+rowPart;p_layout[1]=document.getElementById(pickerId);var tableId=getLinearTableDivId(q,rowPart,nsCompID);if(tableId){var tableSelId=tableId+"_Selector_R"+rowPart;tblSelector=document.getElementById(tableSelId)}}else{if(document.getElementById(nsCompID+q+"_picker")!=null){p_layout[1]=document.getElementById(nsCompID+q+"_picker")}}}var p0=[];p0[0]=document.getElementById(nsCompID+"p0_"+q);var p1=[];p1[0]=getP1Cell(nsCompID,"p1_"+q);addErrorRowToDisplayList(p1,nsCompID+q);var p2=[];p2[0]=document.getElementById(nsCompID+"p2_"+q);var p3=[];p3[0]=document.getElementById(nsCompID+"p3_"+q);var p4=[];p4[0]=document.getElementById(nsCompID+"p4_"+q);var p5=[];p5[0]=document.getElementById(nsCompID+"p5_"+q);var p6=[];p6[0]=document.getElementById(nsCompID+"p6_"+q);var p7=[];p7[0]=document.getElementById(nsCompID+"p7_"+q);var result=false;try{var pipeLoc=checkIfMultiValue(exprArray[i]);if(pipeLoc>=0){result=evalMultiSelect(exprArray[i],pipeLoc)}else{result=jsep.eval(exprArray[i])}}catch(e){result=false;if(debug){alert("Error in expression: "+exprArray[i])}}resultArray[i]=result;var tabHeader=nsCompID+q;if(result){noRowsDisplayed=false;var mainCellIDs=show(p4,naTypeArray[i],ns,true);if(mainCellIDs!=null||p4[0]==null){for(var ii=0;mainCellIDs!=null&&ii<mainCellIDs.length;ii++){if(mainCellIDs[ii]!=null){p0[ii]=document.getElementById(nsCompID+"p0_"+mainCellIDs[ii]);p1[ii]=getP1Cell(nsCompID,"p1_"+mainCellIDs[ii]);p2[ii]=document.getElementById(nsCompID+"p2_"+mainCellIDs[ii]);p3[ii]=document.getElementById(nsCompID+"p3_"+mainCellIDs[ii]);p5[ii]=document.getElementById(nsCompID+"p5_"+mainCellIDs[ii]);p6[ii]=document.getElementById(nsCompID+"p6_"+mainCellIDs[ii])}}}var runAnimation=true;if(p_layout[0]!=null){for(var x=i-1;x>=0;x--){var par=p_layout[0].parentNode;var idToMatch=nsCompID+qArray[x];while(par!=null){if(par.id&&par.id==idToMatch){runAnimation=false;x=-1;break}par=par.parentNode}}}show(p_layout,naTypeArray[i],ns,true,true,runAnimation);show(p0,naTypeArray[i],ns,true);show(p1,naTypeArray[i],ns,true);show(p2,naTypeArray[i],ns,true);show(p3,naTypeArray[i],ns,true);show(p5,naTypeArray[i],ns,true);show(p6,naTypeArray[i],ns,true);show(p7,naTypeArray[i],ns,false);if(document.getElementById(ns+"Pane"+tabHeader)!=null){currentTabId=checkTab(tabHeader,"show",keepHeadingArray[i],saveDataArray[i],currentTabId,ns)}}else{hide(p7,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,false);var mainCellIDs=hide(p4,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true);if(mainCellIDs!=null||p4[0]==null){for(var ii=0;mainCellIDs!=null&&ii<mainCellIDs.length;ii++){if(mainCellIDs[ii]!=null){p0[ii]=document.getElementById(nsCompID+"p0_"+mainCellIDs[ii]);p1[ii]=getP1Cell(nsCompID,"p1_"+mainCellIDs[ii]);p2[ii]=document.getElementById(nsCompID+"p2_"+mainCellIDs[ii]);p3[ii]=document.getElementById(nsCompID+"p3_"+mainCellIDs[ii]);p5[ii]=document.getElementById(nsCompID+"p5_"+mainCellIDs[ii]);p6[ii]=document.getElementById(nsCompID+"p6_"+mainCellIDs[ii])}}hide(p_layout,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true,true);if(window.hideErrorMessage&&p_layout.length==1){hideErrorMessage(ns,p_layout[0],null)}hide(p_tabPane,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true,true);hide(p0,keepHeadingArray[i],saveDataArray[i],ns,true);if(keepHeadingArray[i]!="true"&&noRowsDisplayed){hide(p1,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true);if(p_layout[0]==null&&p1[0]!=null){var inputs=p1[0].getElementsByTagName("input");for(var j=0;j<inputs.length;j++){hideErrorMessage(ns,inputs[j],null)}}}hide(p2,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true);hide(p3,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true);hide(p5,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true);hide(p6,keepHeadingArray[i],saveDataArray[i],naTypeArray[i],ns,true)}if(document.getElementById(buildCompID(ns,"Pane",tabHeader))!=null){currentTabId=checkTab(tabHeader,"hide",keepHeadingArray[i],saveDataArray[i],currentTabId,ns)}}if(tblSelector){setFormElementDisabled(tblSelector.parentNode,!result)}}if(currentTabId!=""){setActiveTab(ns,currentTabId);showTab(document.getElementById(buildCompID(ns,"Pane",currentTabId)),ns)}else{if(getVariable(ns,"activeTabName")!=null){var activeTab=getVariable(ns,"activeTabName");if(document.getElementById(buildCompID(ns,"Pane",activeTab))!=null){setVariable(ns,"activeTabName",null);showTab(document.getElementById(buildCompID(ns,"Pane",activeTab)).firstChild,ns);focusOn(ns,curFocus)}}}return resultArray}function getLinearTableDivId(g,d,h){var c=g.substring(0,g.lastIndexOf("_R"));var a=c.substring(0,c.length-6);var b=document.getElementById(a+"_R"+d);if(b){var f=b.parentNode;while(f!=null&&f.id.length==0&&f.parentNode){f=f.parentNode}if(f!=null){if(f.nodeName.toUpperCase()=="DIV"){return f.id}}}return null}function getMainCellIDFromFS(b,a){if(a!=null){return stripPrefix(b,a.id).substring(9)}return null}function getP1Cell(b,d){var c=document.getElementById(b+d);var a=getRowPart(d);if(c==null&&a.length>0){d=d.substring(0,d.lastIndexOf("_R"));c=document.getElementById(b+d);if(!c){c=document.getElementById(b+d+"format_R"+a);if(!c){c=document.getElementById(b+d+"column_R"+a)}}}return c}function addErrorRowToDisplayList(g,a){var f=document.getElementById(a+"_ERRORROW");if(f!=null){var c=f.getElementsByTagName("span");for(var b=0;c!=null&&b<c.length;b++){var d=c[b];if(d!=null&&d.id==a+"_ERRORMESSAGE"&&d.innerHTML.length>0){g[g.length]=f;break}}}}function checkIfMultiValue(c){var b=-1;if(c.indexOf("|")>=0){for(var a=0;a<c.length-1;a++){if(c.charAt(a)=="|"){if(c.charAt(a+1)!="|"){b=a;break}++a}}}return b}function checkTab(a,g,i,c,b,h){var k=[];k[0]=document.getElementById(buildCompID(h,"Pane",a));var j=document.getElementById(a);var d=getActiveTab(j).value;if(g=="show"){if(d==a){show(k);return a}if(d!=null&&d!=""){return d}}else{if(g=="hide"){hide(k,i,c,"Hide",h);if(d==a){getActiveTab(j).value=null;if(b==a){b=""}}else{b=d}}}if(b==null||b==""){var f=getFirstRealVisibleChild(j.parentNode);return((f)?f.id:"")}return b}function focusOnActiveTab(l,h,j,b,m,k,n,c,d){var a=getActiveTab(document.getElementById(l)).value;if(a!=null&&a!=""&&document.getElementById(a).style.display!="none"){if(d){ajaxTabs(a,h,j,b,m,k,n,c)}else{changeTab(a,k,b,m)}return}var g=document.getElementById(l).parentNode.childNodes;for(var f=0;f<g.length;f++){if(g[f].nodeType==1&&g[f].style.display!="none"){if(d){ajaxTabs(l,h,j,b,m,k,n,c)}else{changeTab(g[f].id,k,b,m)}return}}}function show(d,c,g,k){var h=true;var j=[];if(g==null){g=""}for(var f=0;f<d.length;f++){if(d[f]==null){return null}j[f]=null;if(d[f].style!=null){if(beforeElemShown(g,d[f],c)){runElemShownWidgetHooks("before",g,d[f],c);jscss("remove",d[f],DISABLED_CLASS);if(d[f].style.visibility=="hidden"){d[f].style.visibility="visible"}if(d[f].tagName=="DIV"||d[f].tagName=="div"){if(d[f].id.indexOf("Pane")==-1){var b=getParentFieldset(d[f]);if(b!=null&&k){if(!areFieldsetSiblingsAllHidden(b)){h=false}if(h){j[f]=getMainCellIDFromFS(g,b)}}d[f].style.display="inline";var a=d[f];while(a!=null&&a.nodeType==1&&a.tagName.toUpperCase()!="TR"){showElem(a,true);a=a.parentNode}showElem(a,true)}else{if(d[f].tagName=="SPAN"||d[f].tagName=="span"){d[f].style.display="inline"}else{d[f].style.display="block"}}}else{var a=d[f];while(a!=null&&a.nodeType==1&&a.tagName.toUpperCase()!="TR"){showElem(a,true);a=a.parentNode}showElem(a,true)}setFormElementDisabled(d[f],false);if(c=="Disable"){setElementEnabled(d[f])}afterElemShown(g,d[f],c);runElemShownWidgetHooks("after",g,d[f],c)}}}if(!h){return null}else{return j}}function showElem(b,a){if(b!=null){var d=b.id;if(d&&d.indexOf("__REMOVED")>0){return}if(a){b.style.visibility="visible";setOpacity(b,1);var c=b.tagName.toUpperCase();if(IE4){if(c=="IMG"||c=="SPAN"||c=="INPUT"||c=="SELECT"||c=="TEXTAREA"||c=="A"||c=="BUTTON"||(c=="DIV"&&b.parentNode.tagName.toUpperCase()=="FIELDSET")){b.style.display="inline"}else{b.style.display=""}}else{var c=b.tagName.toUpperCase();if(c=="TD"||c=="TH"){b.style.display="table-cell"}else{if(c=="TR"){b.style.display="table-row"}else{if(c=="TBODY"){b.style.display=""}else{if(c=="TABLE"){b.style.display="table"}else{if(c=="SPAN"||c=="INPUT"||c=="SELECT"||c=="TEXTAREA"||c=="A"||c=="BUTTON"||(c=="DIV"&&b.parentNode.tagName.toUpperCase()=="FIELDSET")){b.style.display="inline"}else{if(c=="IMG"){b.style.display=""}else{b.style.display=""}}}}}}}}else{b.style.display="none"}}}function isInDisabled(b){var a=b.parentNode;while(a!=null){if(jscss("check",a,DISABLED_CLASS)){return true}a=a.parentNode}return false}function isInHidden(b){var a=b.parentNode;while(a!=null){if(jscss("check",a,DISABLED_CLASS)){if(a.id){if(a.id.indexOf("p0_")<0&&a.id.indexOf("p4_")<0&&a.id.indexOf("row_")<0){return true}}}a=a.parentNode}return false}function filterHiddenAndReadOnlyInputs(a){for(var b=a.length-1;b>=0;b--){if(a[b].name.indexOf("_READONLY")>=0){a.splice(b,1)}else{if(isInHidden(a[b])&&!isInDisabled(a[b])){a.splice(b,1)}}}return a}function getSubElements(f,c){var d=f.getElementsByTagName(c);var a=[];for(var b=0;b<d.length;b++){a.push(d[b])}a=filterHiddenAndReadOnlyInputs(a);return a}function setFormElementDisabled(d,c){var a=getSubElements(d,"input");a=a.concat(getSubElements(d,"button"));a=a.concat(getSubElements(d,"a"));a=a.concat(getSubElements(d,"select"));a=a.concat(getSubElements(d,"textarea"));if(a.length>0){for(var b=0;b<a.length;b++){a[b].disabled=c;if(!c){jscss("remove",a[b],DISABLED_CLASS)}else{jscss("add",a[b],DISABLED_CLASS)}if(document.getElementById(a[b].id+"_picker")!=null){document.getElementById(a[b].id+"_picker").style.display=c?"none":""}}}}function hide(d,h,b,c,g,l){var j=true;var k=[];if(g==null){g=""}for(var f=0;f<d.length;f++){if(d[f]==null){return null}k[f]=null;if(beforeElemHidden(g,d[f],h,b,c)){runElemHiddenWidgetHooks("before",g,d[f],h,b,c);jscss("add",d[f],DISABLED_CLASS);if(c=="Hide"||c=="Remove"){if(h!=null&&h=="true"){if(d[f].style!=null){if(d[f].parentNode.parentNode.tagName.toUpperCase()=="FIELDSET"||d[f].parentNode.tagName.toUpperCase()=="FIELDSET"){d[f].style.display="none"}else{d[f].style.visibility="hidden"}}}else{if(d[f].style!=null){d[f].style.display="none";if(l){var a=getParentFieldset(d[f]);if((d[f].tagName.toUpperCase()=="DIV")&&(a!=null)){var j=areFieldsetSiblingsAllHidden(a);if(j){getParentNode(d[f],"td").style.display="none";k[f]=getMainCellIDFromFS(g,a)}}}}}}if(b=="false"){setFormElementDisabled(d[f],true)}if(c=="Disable"){setElementDisabled(d[f])}checkIfAllCellsHidden(d[f]);afterElemHidden(g,d[f],h,b,c);runElemHiddenWidgetHooks("after",g,d[f],h,b,c)}}if(!j){return null}else{return k}}function isHidden(a){var b=a;while(b!=null){if(b.style!=null){if(b.style.visibility=="hidden"||b.style.display=="none"){if(b.id==null||b.id.indexOf("__REMOVED")<0){return true}}}b=b.parentNode}return false}function getParentFieldset(a){var b=null;if(a!=null&&a.parentNode!=null){if(a.parentNode.tagName.toUpperCase()=="FIELDSET"){b=a.parentNode}else{if(a.parentNode.parentNode!=null&&a.parentNode.parentNode.tagName.toUpperCase()=="FIELDSET"){b=a.parentNode.parentNode}}}return b}function areFieldsetSiblingsAllHidden(b){if(b!=null){var c=b.childNodes;for(var a=0;a<c.length;a++){if((""+c[a].tagName).toUpperCase()=="DIV"&&c[a].style.display!="none"){return false}}return true}return false}function checkIfAllCellsHidden(d){var c=getParentNode(d,"tr");var g=c.childNodes;for(var a=0;a<g.length;a++){var f=g[a];var b=getFirstRealChild(f);if(f.nodeType==1&&f.style.clear!="both"){if(f.style.display!="none"){if(b&&b.nodeType==1&&b.style){if(b.style.visibility!="hidden"){return}}else{return}}}}c.style.display="none"}function checkRowHidden(m,g,c,k){var b=splitstring(c,"|",false);for(var o=0;o<b.length;o++){var l=b[o];var a=splitstring(m,"^",false);var p=false;for(var f=0;f<a.length;f++){var h=k+a[f]+l;var n=document.getElementById(h);if(n!=null){if(n.style.display!="none"&&n.style.visibility!="hidden"){var d=n.getElementsByTagName("div")[0];if(d!=null){if(d.style.display!="none"&&d.style.visibility!="hidden"){p=true}}else{p=true}}}}var a=splitstring(g,"^",false);for(var f=0;f<a.length;f++){var j=document.getElementById(k+a[f]+l);if(j!=null){if(!p){j.style.display="none"}else{if(j.style.display=="none"){j.style.display=""}else{if(IE4){j.style.display="block"}}}}}}}function getParentNode(a,b){var c=a.parentNode;while(c!=null&&c.nodeName!=b.toUpperCase()){c=c.parentNode}return(c)}function getParentRow(a){var b=a;if(b!=null){while((b=b.parentNode)!=null&&((b.nodeName!="DIV"&&b.nodeName!="TR")||b.id.indexOf("_R")==-1)){}}return(b)}function getCellParent(b,a){if(a==null){a=""}if(b==null||b.parentNode==null){return null}var c=b.parentNode;if(c.nodeName=="div"||c.nodeName=="DIV"){var d=stripPrefix(a,c.id);if(d.indexOf("p1_")==0||d.indexOf("p2_")==0||d.indexOf("p3_")==0||d.indexOf("p4_")==0){return c}}if(c.nodeName=="td"||c.nodeName=="TD"){return c}else{return getCellParent(c,a)}}function getFirstRealChild(a){if(a!=null){var b=a.firstChild;while(b!=null){if(b.nodeType==1){return b}b=b.nextSibling}}return null}function getFirstRealVisibleChild(a){if(a!=null){var b=a.firstChild;while(b!=null){if(b.nodeType==1&&b.style.visibility!="hidden"&&b.style.display!="none"){return b}b=b.nextSibling}}return null}function getPreviousRealSibling(b){if(b!=null){var a=b.previousSibling;while(a!=null){if(a.nodeType==1){return a}a=a.previousSibling}}return null}function getNextRealSibling(b){if(b!=null){var a=b.nextSibling;while(a!=null){if(a.nodeType==1){return a}a=a.nextSibling}}return null}function getKeyCode(a){var b=a?(a.which?a.which:a.keyCode):event.keyCode;return(b)}function searchList(l,d,g,k){var h=getVariable(k,"keyspressed");var f=(l)?l:window.event;var m=getKeyCode(l);if(f.altKey||f.ctrlKey||(m!=ENTER_KEYCODE&&m<32)){return(true)}else{if(m==ENTER_KEYCODE&&isMultiSelectionList(d)){h="";setVariable(k,"keyspressed",h);performDefaultButtonAction(g,k);return(false)}}h+=String.fromCharCode(m).toUpperCase();setVariable(k,"keyspressed",h);var c=0;var a=false;for(var b=0;b<2;b++){for(c=0;c<d.length;c++){liststring=d[c].text.substring(0,h.length).toUpperCase();if(h==liststring){a=true;break}}if(a){break}h=h.substr(h.length-1,1);setVariable(k,"keyspressed",h)}if(!a){h="";setVariable(k,"keyspressed",h);c=-1}if(d.length>0&&a){setVariable(k,"setListComponent",d);setVariable(k,"setListIndex",c);setTimeout("setSelectedList('"+k+"')",10)}if(window.opera){return(f.charCode?false:true)}return(false)}function setSelectedList(c){var a=getVariable(c,"setListComponent");var b=getVariable(c,"setListIndex");a.selectedIndex=b;if(a.onchange){execute(a,"onchange",KEY_PRESSED_TRIGGER)}}function validActionKey(c){var b=getKeyCode(c);var a=b!=null&&(b==32||b==13);return a}function checkForDefaultButtonAction(b,a,c,d,f){if(getKeyCode(b)==ENTER_KEYCODE){if(b.target.type!=="color"&&b.target.type!=="file"){performDefaultButtonAction(a,c,d,f);return(false)}}return(true)}function performDefaultButtonAction(a,b,c,f){if(b!=null&&b!=""){var d=getForm(c);if(!performedDefaultButtonAction(a,b,d.getElementsByTagName("button"),c,f)){if(!performedDefaultButtonAction(a,b,d.getElementsByTagName("input"),c,f)){performedDefaultButtonActionOnLinks(a,b,getLinks(document,true,c),c,f)}}}}function performedDefaultButtonAction(a,d,b,f,g){for(var c=0;c<b.length;c++){if(b[c].name&&b[c].onclick&&b[c].name==d){if(g||!isHidden(b[c])){if(a.onblur){a.onblur()}execute(b[c],"onclick",DEFAULT_BUTTON_ACTION_TRIGGER)}return(true)}}return(false)}function performedDefaultButtonActionOnLinks(j,a,d,l,f){var m="buttonClicked('"+a+"'";var k="buttonClickedOffline('"+removeSpaces(a)+"'";var c='buttonClicked("'+a+'"';var n='buttonClickedOffline("'+removeSpaces(a)+'"';for(var g=0;g<d.length;g++){if(d[g].onclick){var h=d[g].onclick.toString();var b=(d[g].getAttribute("onclick"))?d[g].getAttribute("onclick"):"";if(h.indexOf(m)>-1||h.indexOf(k)>-1||h.indexOf(c)>-1||h.indexOf(n)>-1||b.indexOf(m)>-1||b.indexOf(k)>-1||b.indexOf(c)>-1||b.indexOf(n)>-1){if(f||!isHidden(d[g])){j.onblur();execute(d[g],"onclick",DEFAULT_BUTTON_ACTION_TRIGGER)}return(true)}}}return(false)}function isDatePartFunctionName(a){if(a!=null&&a.indexOf(".")>0){var b=a.substring(a.lastIndexOf(".")+1);for(var c=0;c<DATE_TIME_PARTS.length;c++){if(b==DATE_TIME_PARTS[c]){return(true)}}}return(false)}function getImageDirPath(a){return(getResourcePath(a,getVariable(a,"imageDirPath")))}function doOnBlur(a,b){if(getTriggeredReason()!=""){return}a="";setVariable(a,"CURRENT_FOCUS",null);removeHelpContent();return(true)}function doOnFocus(b,c,a){b="";setVariable(b,"CURRENT_FOCUS",c);if(window.clickHelpButton){clickHelpButton(a)}return(true)}function focusOnCurrent(b){b="";var a=getVariable(b,"CURRENT_FOCUS");focusOn(b,a);try{setUpFocusValue(b,document.getElementById(a))}catch(c){}return true}function focusOn(c,b){if(b!=null){var f=document.getElementById(b);if(f!=null){var a=f.tagName.toLowerCase();if(a!="input"&&a!="select"&&a!="textarea"&&a!="button"&&a!="a"&&a!="img"){f=getFormElems(c,b)[0]}try{setTimeout(function(){try{f.focus();f.focus();if(f.select){f.select()}}catch(g){}},100)}catch(d){}}}}function focusOnErrorField(a,b){setVariable(a,"CURRENT_FOCUS",b);focusOnCurrent(a)}function createFloatingDiv(c,d,a){var b=document.createElement("div");b.setAttribute("id",c);b.setAttribute("style","z-index: 10000");d.appendChild(b);if(a){for(var f in a){b.setAttribute(f,a[f])}}return b}function getWindowWidth(){var a=0;if(typeof(window.innerWidth)=="number"){a=window.innerWidth}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientWidth}}}return a}function getWindowHeight(){var a=0;if(typeof(window.innerWidth)=="number"){a=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){a=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientHeight}}}return a}function getScreenOrientation(){var a=getWindowWidth();var b=getWindowHeight();if(b/a>1){return"P"}else{return"L"}}function fetchBrowserDeviceInfoAndSubmit(){var d="form1";var a=Date.now();var c=0;if(a-c<250){return}c=a;var b=document.forms[d];if(b!=null&&b.DEVICE_SIZE_INFO!=null){fetchBrowserDeviceInfo(d);var b=document.forms[d];ecSubmitForm(null,"EVENT_DEVICE",null,null)}}function fetchBrowserDeviceInfo(b){var a="{";a+='"screenWidth":"'+window.screen.availWidth+'",';a+='"screenHeight":"'+window.screen.availHeight+'",';a+='"documentWidth":"'+document.documentElement.clientWidth+'",';a+='"documentHeight":"'+document.documentElement.clientHeight+'",';a+='"bodyWidth":"'+document.body.clientWidth+'",';a+='"bodyHeight":"'+document.body.clientHeight+'",';a+='"windowWidth":"'+getWindowWidth()+'",';a+='"windowHeight":"'+getWindowHeight()+'",';a+='"screenOrientation":"'+getScreenOrientation()+'"';a+="}";document.forms[b].DEVICE_SIZE_INFO.value=a}function jscss(b,h,f,d){if(!h){return}switch(b){case"swap":h.className=!jscss("check",h,f)?h.className.replace(d,f):h.className.replace(f,d);break;case"replace":if(jscss("check",h,f)){h.className=h.className.replace(f,d)}break;case"add":if(!jscss("check",h,f)){h.className+=h.className?" "+f:f}break;case"remove":if(!f||f.length==0){return}var c=jscss("check",h,f);while(c){var g=h.className.match(" "+f)?" "+f:f;h.className=h.className.replace(g,"");c=jscss("check",h,f)}break;case"check":return(f&&f.length>0&&(" "+h.className+" ").indexOf(" "+f+" ")>=0);break}}function hasChanged(d,f){if(FORMAT_VALIDATION_TRIGGER==getTriggeredReason()){return true}var b=getElementValue(f,d);if(b==null||b==""){if(f.validity&&!f.validity.valid){return true}}var a=getFocusValue(d,f.id);if(a!=undefined&&a!=b){return true}return false}function log(){var a=Array.prototype.slice.call(arguments);if(window.console&&typeof console.log!=="undefined"){try{console.log.apply(this,a)}catch(d){if(a.length){var c=a[0];for(var b=1;b<a.length;b++){c+=": "+(a[b]!=null?a[b]:"arg"+b+" is null")}console.log(c)}}}else{}}function getErrorMessageId(b,a){var d=getLookupId(b,a);var f=d[0]+d[1]+"_ERRORMESSAGE"+d[2];var c=document.getElementById(f);if(c==null){d=getLookupId(b,a,true)}return d[0]+d[1]+"_ERRORMESSAGE"+d[2]}function getWarningMessageId(b,a){var d=getLookupId(b,a);var f=d[0]+d[1]+"_WARNINGMESSAGE"+d[2];var c=document.getElementById(f);if(c==null){d=getLookupId(b,a,true)}return d[0]+d[1]+"_WARNINGMESSAGE"+d[2]}function getInfoMessageId(b,a){var d=getLookupId(b,a);var f=d[0]+d[1]+"_INFOMESSAGE"+d[2];var c=document.getElementById(f);if(c==null){d=getLookupId(b,a,true)}return d[0]+d[1]+"_INFOMESSAGE"+d[2]}function getErrorMessageRowId(b,a){var d=getLookupId(b,a);var f=d[0]+d[1]+"_ERRORROW"+d[2];var c=document.getElementById(f);if(c==null){d=getLookupId(b,a,true)}return d[0]+d[1]+"_ERRORROW"+d[2]}function getLookupId(d,b,g){var f=b.id;var c=getRowPart(f);var a=getCompID(d,f);if(a==null){a=""}f=f.substring(d.length+a.length);if(f.indexOf("_Selector")>0){f=f.substring(0,f.lastIndexOf("_Selector"));if(g===true){c="_R"+c}else{c=""}}else{if(c.length>0){f=f.substring(0,f.length-c.length-2);c="_R"+c}if(b.type=="radio"||b.type=="checkbox"){f=f.substring(0,f.lastIndexOf("_"))}if(f.indexOf(".")>0){f=f.substring(0,f.lastIndexOf("."))}if(f.indexOf(d+"SEL_")==0){f=f.substring(4)}if(f.indexOf(d+"FS_")==0){f=f.substring(3)}}return[d+a,f,c]}function hideErrorMessage(f,b,h){if(b==null){return}if(b.tagName=="FIELDSET"){b=b.getElementsByTagName("input")[0]}if(b==null){return}var c=getErrorMessageId(f,b);var i=document.getElementById(c);if(i){if(jscss("check",i,"qlrError")){return}if(i.tagName=="SPAN"){i.innerHTML=""}else{hide([i],false,false,"Hide")}setMandStyle(b,"",false)}var a=getErrorMessageRowId(f,b);var g=document.getElementById(a);if(g){hide([g],false,false,"Hide")}var d=extractStyleArray(b);if(d){updateStyles(f,b,d,"remove")}}function extractStyleArray(b){var a;var c=null;if(b.onchange){a=""+b.onchange}else{if(b.type=="radio"||b.type=="checkbox"&&b.onclick){a=""+b.onclick}else{if(b.type=="radio"||b.type=="checkbox"){a=""+b.parentNode.parentNode.onclick}else{if(b.onblur){a=""+b.onblur}}}}if(a){var d=(a.lastIndexOf(" ['")>0&&a.lastIndexOf("']")>0)?a.substring(a.lastIndexOf(" ['")+2,a.lastIndexOf("']")+1):a.substring(a.lastIndexOf(' ["')+2,a.lastIndexOf('"]')+1);try{c=d.replace(/'/g,"").replace(/"/g,"").split(",")}catch(f){}}return c}function setMandStyle(b,f,c){if(b.type=="radio"||b.type=="checkbox"){if(!c){var a=b.parentNode.parentNode.getElementsByTagName("input");for(var d=0;d<a.length;d++){setMandStyle(a[d].parentNode,f,c)}}else{b=b.parentNode}}if(c){jscss("add",b,"errorStyle")}else{jscss("remove",b,"errorStyle")}}function updateStyles(w,t,h,c,j){if(!h){return}var f=j?j:0;if(h[f+7]==undefined){return}if(c=="remove"){var s=getErrorMessageId(w,t);var v=document.getElementById(s);if(v){if(jscss("check",v,"qlrError")){return}}}var k=getLookupId(w,t);var u=k[0];var l=k[1]+k[2];jscss(c,document.getElementById(u+"row_"+l),h[f]);jscss(c,document.getElementById(u+"p1_"+l),h[f+1]);jscss(c,document.getElementById(u+"p2_"+l),h[f+2]);jscss(c,document.getElementById(u+"p3_"+l),h[f+3]);var n=document.getElementById(u+"p4_"+l);if(n){var b=""+(n.previousSibling&&n.previousSibling.id);var m=""+(n.nextSibling&&n.nextSibling.id);if(n.previousSibling&&n.previousSibling.nodeName=="LEGEND"){jscss(c,n.parentNode.parentNode.parentNode,h[f+4])}else{if(b.indexOf("p4_")>-1||b.indexOf("p7_")>-1||m.indexOf("p4_")>-1||m.indexOf("p7_")>-1){}else{jscss(c,document.getElementById(u+"p4_"+l),h[f+4])}}}if(t.tagName=="FIELDSET"&&c=="remove"){var d=t.getElementsByTagName("input");for(var r=0;r<d.length;r++){if(t.type=="radio"||t.type=="checkbox"){jscss(c,t.parentNode,h[f+5])}else{jscss(c,t,h[f+5])}}}else{if(t.type=="radio"||t.type=="checkbox"){jscss(c,t.parentNode,h[f+5])}else{jscss(c,t,h[f+5])}}jscss(c,document.getElementById(u+"p5_"+l),h[f+7]);if(c=="remove"){var a=getVariable(w,"MessagesOrder");if(!a||a==""){a="Errors, Warnings, Info"}var q=a.split(", ");for(var r=0;r<=q.length;r++){if(q[r]=="Errors"){var o=document.getElementById(getErrorMessageId(w,t));if(o&&(o.style.display!="none"&&o.childNodes.length>0)){updateStyles(w,t,h,"add",0);return}continue}else{if(q[r]=="Warnings"){var g=document.getElementById(getWarningMessageId(w,t));if(g&&(g.style.display!="none"&&g.childNodes.length>0)){updateStyles(w,t,h,"add",9);return}continue}else{if(q[r]=="Info"){var p=document.getElementById(getInfoMessageId(w,t));if(p&&(p.style.display!="none"&&p.childNodes.length>0)){updateStyles(w,t,h,"add",18);return}continue}}}}updateStyles(w,t,h,"add",27)}}var isInitialMoveOfMessages=true;function moveMessagesToTargetId(o){var a="moveto";var p=document.querySelectorAll("div["+a+"], label["+a+"], span["+a+"]");var b=document.getElementById("EDGE_CONNECT_PROCESS").firstChild;var m;var d;for(var k=0;k<p.length;k++){var l=p[k];var g=(k==p.length-1)||checkLastMessageOfQuestion(l);var c=document.querySelectorAll(l.tagName+"[id="+l.id+"]");if(c.length>1){for(var f=0;f<c.length;f++){if(l!=c[f]){l.removeAttribute(a);c[f].parentElement.replaceChild(l,c[f]);if(g){removeMessagesSeparator(o,l)}break}}break}else{if(isInitialMoveOfMessages&&g){removeMessagesSeparator(o,l)}var h=l.getAttribute(a);var n=h=="EDGE_CONNECT_PROCESS";if(n){m=b}else{var m=document.getElementById(h)}l.removeAttribute(a);d=getQuestionMessagesSpan(o,m,n,l);d.appendChild(l)}}isInitialMoveOfMessages=false}function getQuestionMessagesSpan(h,g,b,d){var c=g.lastElementChild;var f=d.querySelectorAll("label")[0];var i=f&&f.attributes["for"]&&f.attributes["for"].value||"";if(!i){i=d&&d.attributes["for"]&&d.attributes["for"].value||""}var j=g.id+i+"_MESSAGES";if((c===null)||(c.id!==j)){var c=document.createElement("span");c.id=j;if(b){var a=getVariable(h,"MessagesContainerStyle");if(a!=null&&a!=""){c.className+=a}c.style.width="100%";c.style.display="block"}g.appendChild(c)}return c}function checkLastMessageOfQuestion(b){var a=b;while(a.nextSibling!=null&&a.nextSibling.attributes["for"]&&a.nextSibling.attributes["for"].value==a.attributes["for"].value){a=a.nextSibling;if(a.style.display!="none"){break}}return(a==b)||(a.style.display=="none")}function removeMessagesSeparator(b,a){msElement=document.createElement("label");msElement.style.display="none";msElement.innerHTML=getVariable(b,"MessagesSeparator");a.innerHTML=a.innerHTML.replace(new RegExp(msElement.innerHTML.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$"),"")}function fetchBrowserFeatures(j){var h=document.forms[j];if(h!=null&&h.BROWSER_FEATURES!=null){var a=Modernizr;if(a!=null){var g={};for(var i in a){if(i[0]=="_"){continue}var c=typeof a[i];if(c=="function"){continue}var b;if(c=="object"){b={};for(var d in a[i]){b[d]=!!a[i][d]}}else{b=!!a[i]}g[i]=b}h.BROWSER_FEATURES.value=JSON.stringify(g)}}}function fetchBrowserFeaturesAndSubmit(b){var a=document.forms[b];if(a!=null&&a.BROWSER_FEATURES!=null){fetchBrowserFeatures(b);ecSubmitForm(null,"REFRESH",null,null)}}window.widgetApi=(function(){var a={};a.object_of_functions={};a.widgets_list=[];function b(c){this.id=c;this.controller=undefined;this.model_data=undefined;this.setId=function(d){this.id=d};this.getId=function(){return this.id};this.setModel=function(d){this.model_data=d};this.getModel=function(){return this.model_data};this.getModelFromDOM=function(){return JSON.parse(document.getElementById(this.id+"_model").innerHTML)};this.getController=function(){return this.controller};this.setController=function(d){this.controller=d}}a.add=function(d){for(var c=0;c<this.widgets_list.length;c++){if(this.widgets_list[c].getId()==d){return false}}var f=new b(d);this.widgets_list.push(f);return true};a.get=function(f,d){for(var c=0;c<this.widgets_list.length;c++){if(this.widgets_list[c].getId()==f){return this.widgets_list[c]}}if(d){a.add(f);return this.widgets_list[c]}return false};a.execute=function(f){if(!f){return false}var c=f.getModelFromDOM();if(JSON.stringify(f.getModel())==JSON.stringify(c)){return false}else{f.setModel(c)}var d=f.getController();if(typeof d!=="function"&&c.controller){d=getObjectByPackageString(c.controller);(typeof d==="function")&&f.setController(d)}if(d){if(c==null){}d.call(c)}};a.runWidgetsScripts=function(g){while(g.indexOf('<script type="application/json" ')>-1){var h=g.indexOf('<script type="application/json"');var d=g.indexOf('id="',h)+4;var c=g.indexOf('"',d);var f=g.substr(d,c-d-6);if(f!=undefined&&f!=""){if(document.getElementById(f).style.display!="none"){a.execute(a.get(f,true))}}g=g.substr(g.indexOf("<\/script",h)+9)}};a.namespace=function(d){var j={};j.separator=".";var g=arguments[1]||false;var h=window;if(d!==""){var k=d.split(j.separator);for(var f=0;f<k.length;f++){if(!h[k[f]]){h[k[f]]={}}h=h[k[f]]}}if(g){for(var c in g){if(g.hasOwnProperty(c)){h[c]=g[c]}}}return h};a.triggerEvent=function(c){if(document.createEvent){var d=document.createEvent("Event");d.initEvent(c,true,true);document.dispatchEvent(d)}else{document.documentElement[c]++}};a.addEvent=function(c,d){if(document.addEventListener){document.addEventListener(c,d,false)}else{document.documentElement.attachEvent("onpropertychange",function(f){if(f.propertyName==c){d()}})}};a.removeEvent=function(c,d){if(document.removeEventListener){document.removeEventListener(c,d,false)}else{document.documentElement.detachEvent("onpropertychange",d)}};a.getScript=function(f,h){var d=document.createElement("script");d.src=f;var g=document.getElementsByTagName("head")[0],c=false;d.onload=d.onreadystatechange=function(){if(!c&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){c=true;h();d.onload=d.onreadystatechange=null;g.removeChild(d)}};g.appendChild(d)};(function(h){h=h||"docReady";var i=[];var c=false;var g=false;function f(){if(!c){c=true;for(var j=0;j<i.length;j++){i[j].fn.call(window,i[j].ctx)}i=[]}}function d(){if(document.readyState==="complete"){f()}}a[h]=function(k,j){if(c){setTimeout(function(){k(j)},1);return}else{i.push({fn:k,ctx:j})}if(document.readyState==="complete"){setTimeout(f,1)}else{if(!g){if(document.addEventListener){document.addEventListener("DOMContentLoaded",f,false);window.addEventListener("load",f,false)}else{document.attachEvent("onreadystatechange",d);window.attachEvent("onload",f)}g=true}}}})("docReady");a.onDocumentReady=function(){for(var c=0;c<a.widgets_list.length;c++){a.execute(a.widgets_list[c])}};a.docReady(a.onDocumentReady);return a})();function showServerSideValidationMessagesPopup(b){var a=getVariable(b,"itemsInError");if(a!==""&&a!==null&&a.length>0){alert(a)}}function decodeHtml(b){var a=document.createElement("textarea");a.innerHTML=b;return a.value}function ec_hideHtmlElem(b){var a=getVariable(b,"antiFlickeringMode");if(a){document.getElementsByTagName("html")[0].style.visibility="hidden"}}function ec_showHtmlElem(b){var a=getVariable(b,"antiFlickeringMode");if(a){document.getElementsByTagName("html")[0].style.visibility="visible"}}function openExternalLink(c,f){var b=document.createElement("a"),d;b.href=c;b.target=f||"_blank";b.rel=(f=="_blank")?"noopener noreferrer":"";document.body.appendChild(b);if(document.createEvent){d=document.createEvent("MouseEvents");d.initEvent("click",true,true);b.dispatchEvent(d)}else{d=document.createEventObject();b.fireEvent("onclick",d)}document.body.removeChild(b)}function showCmsDraftBanner(c){showDraftBanner=getVariable(c,"showDraftBanner");if(showDraftBanner&&window.parent===window){var b=document.createElement("div");b.setAttribute("style","color: red;  background-color: lightgreen; text-align: center; border: 2px solid limegreen; font-weight: bold; font-family: sans-serif; padding-top: 2px;");b.appendChild(document.createTextNode("This is DRAFT version"));var a=document.getElementsByTagName("body")[0];a.insertBefore(b,a.firstChild)}}if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector}var StandardTabNavigator=function(a){this.element=a;this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:"shiftKey"})};function getFocusableTabElement(a){return displayTabsHeadersAsLinks()?a.firstElementChild:a}StandardTabNavigator.prototype={init:function(){getFocusableTabElement(this.element).addEventListener("keydown",this.handleKeydown.bind(this))},setFocusToNextItem:function(){getFocusableTabElement(this.validSibling(this.element,"next")).focus()},setFocusToPreviousItem:function(){getFocusableTabElement(this.validSibling(this.element,"prev")).focus()},validSibling:function(b,c){var a=b;if(c==="next"&&a.nextElementSibling){do{a=a.nextElementSibling}while(a&&(a.matches("script")||isHidden(a)))}else{if(c==="prev"&&a.previousElementSibling){do{a=a.previousElementSibling}while(a&&(a.matches("script")||isHidden(a)))}}return(a||b)},handleKeydown:function(b){var a=this;switch(b.keyCode){case this.keyCode.LEFT:this.setFocusToPreviousItem();break;case this.keyCode.RIGHT:this.setFocusToNextItem();break;case this.keyCode.SPACE:case this.keyCode.RETURN:this.element.click();setTimeout(function(){getFocusableTabElement(a.element).focus()},10);break}}};function singleCheckboxSpanOnclick(b){var c=document.getElementById(b);if(c){var a=c.checked;c.checked=!a;c.onclick()}else{log("No element with id: "+b)}}if(typeof JSON!=="object"){JSON={}}(function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());var AJAX_DEBUG=0;var RESPONSE_ARRAY=new Array();var HEXCHARS="0123456789ABCDEF";var OK_URI_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";function utf8(b){var g,f;var a="";var d=0;while(d<b.length){g=b.charCodeAt(d++);if(g>=56320&&g<57344){continue}if(g>=55296&&g<56320){if(d>=b.length){continue}f=b.charCodeAt(d++);if(f<56320||g>=56832){continue}g=((g-55296)<<10)+(f-56320)+65536}if(g<128){a+=String.fromCharCode(g)}else{if(g<2048){a+=String.fromCharCode(192+(g>>6),128+(g&63))}else{if(g<65536){a+=String.fromCharCode(224+(g>>12),128+(g>>6&63),128+(g&63))}else{a+=String.fromCharCode(240+(g>>18),128+(g>>12&63),128+(g>>6&63),128+(g&63))}}}}return a}function toHex(a){return HEXCHARS.charAt(a>>4)+HEXCHARS.charAt(a&15)}function encodeURIComponentNew(a){var d=utf8(a);var b="";for(var c=0;c<d.length;c++){if(OK_URI_CHARS.indexOf(d.charAt(c))==-1){b+="%"+toHex(d.charCodeAt(c))}else{b+=d.charAt(c)}}return b}function encodeParam(a){var b;if(typeof encodeURIComponent=="function"){b=encodeURIComponent(a)}else{b=encodeURIComponentNew(a)}return(b)}function getElementIdFromEvent(c){var b="";var a;if(c.srcElement){a=c.srcElement}else{a=c.target}if(a.tagName.toLowerCase()=="label"&&a.htmlFor!=null){b=a.htmlFor}else{b=a.id}return b}function ajaxGetChartMap(d,c,a,f){if(!document.getElementById("chartmaps")){var g=document.createElement("div");g.setAttribute("id","chartmaps");document.body.appendChild(g)}var b="ajaxservletcontroller?MODE="+prefixCompID(c,f,"AJXChartMap")+"&CHARTID="+f+"&namespace="+c+"&controllername="+d;setTimeout(function(){send(a+b,true,"ajaxGetChartMap",c)},500)}function ajaxValidate(v,E,n,w,q,r,t,f){if(!this["beforeAjaxValidationService"]||beforeAjaxValidationService(v,E,n,w,q,r,t,f)){if(q==null){return}var s=q.id;if(s==null||s==""||q.tagName.toLowerCase()=="fieldset"){s=getElementIdFromEvent(w);q=document.getElementById(s)}if(q==null){return}s=q.id;if(s==null||s==""||q.tagName.toLowerCase()=="fieldset"){if(w.srcElement){q=w.srcElement}else{q=w.target}s=q.id}if(s==null||s==""||!datePartsComplete(q,E)){return}var j=f!=null&&f.length>0;if(j){setVariable(E,"currentErrorTarget",f)}var p=getFocusValue(E,q.id);if(q.id!=null){s=q.id}var A=getElementValue(q,E);var d=true;if(r&&(p!=null&&p==A)){d=false}if(d){var l="";var b="";if(s==null||s==""||q.tagName.toLowerCase()=="fieldset"){if(w.srcElement){q=w.srcElement}else{q=w.target}s=q.id}if(getRowPart(s).length>0&&t){b=s.substring(s.lastIndexOf("_R"));s=s.substring(0,s.lastIndexOf("_R"))}s=getFieldName(E,s);if(q.type=="radio"&&s.lastIndexOf("_")>0){s=s.substring(0,s.lastIndexOf("_"))}if(s.lastIndexOf(".")>=0){s=s.substring(0,s.lastIndexOf("."))}var a="ajaxservletcontroller?MODE="+prefixCompID(E,s,"AJXValidate")+"&";var g=document.getElementById(s+"_ERRORROW");var o=s+"_ERRORMESSAGE"+b;if(g!=null){o=s+"_ERRORROW"}var D=getElementValue(q,E);if(D==null||D.length==0){D=""}if(q.validity&&!q.validity.valid){D="EC^INVAL^VAL"}var c=""+q.name;c=getFieldName(E,c);hideSuggestList("ec_suggest_"+s+b,250);var k=null;if(c.length==0){k=document.getElementById(s+"_X"+b);if(k!=null){var z=getTriggeredReason();if(FORMAT_VALIDATION_TRIGGER!=z&&!IsValueASuggestion("ec_suggest_"+s+b,D)){resetHiddenElement(q)}c=k.name;if(D.length>0&&k.value!=null&&k.value.length>0){D=k.value}if(D.length==0){k.value=""}}}l=c+"="+encodeParam(D);for(var x=9;x<arguments.length;x++){var u=prefixCompID(E,s,arguments[x]+b);var B=document.getElementById(u);D=getElementValue(B,E);if(D==null||D.length==0){updatePageWithObjectResponse(E,"ajaxValidate",true[{service:"AjaxValidationService",id:s+"_ERRORMESSAGE"+b,innerOrOuter:"INNER",text:"",actionFlag:"HIDE",actionData:o}],0);return}l+="&"+B.name+"="+encodeParam(D)}if(q.type=="file"){document.getElementById("form1").setAttribute("enctype","multipart/form-data")}var y=k!=null?k:q;var m=function(F){E=E||"";var i;if(!F){i=getVariable(E,"invalidQuestions")||new Array();i[y.id]=y;setVariable(E,"invalidQuestions",i)}else{i=getVariable(E,"invalidQuestions");if(i!=null){delete i[y.id]}}};var h=a+l+"&namespace="+E+"&controllername="+v;var C;if(r){incQ(E);C=send(n+h,false,"ajaxValidate",E,m);decQ(E,"ajaxValidate",true)}else{incQ(E);send(n+h,true,"ajaxValidate",E,m);decQ(E,"ajaxValidate",true)}return C}}}function ajaxSubList(c,t,k,A,y,g,d){if(getTriggeredReason()==FORMAT_VALIDATION_TRIGGER){return}if(!this["beforeAjaxSubListService"]||beforeAjaxSubListService(c,t,A,y,g)){var w=c;if(w.id==null||w.id==""||w.tagName.toLowerCase()=="fieldset"){var n=getElementIdFromEvent(t);w=document.getElementById(n)}else{w=document.getElementById(w.id)}if(!w.id){return}var B=w.name;if(B.lastIndexOf("UNSEL_")==0){return}var q=w.id;var m=getFocusValue(A,q);var r=getElementValue(w,A);if(document.getElementById(q+"_X")!=null){if(r.length>0){r=document.getElementById(q+"_X").value}B=document.getElementById(q+"_X").name}var v=r;if(B.lastIndexOf("SEL_")==0){B=B.substring(4)}if(q.lastIndexOf(A+"SEL_")==0){q=q.substring(4)}if(m!=v){var j="ajaxservletcontroller?MODE="+prefixCompID(A,q,"AJXList")+"&"+B+"="+encodeParam(r)+"&id="+q+"&namespace="+A+"&controllername="+y+"&key="+B;var o=d.split(",");for(var u=0;u<o.length;u++){var f=o[u];var p=document.getElementById(f);if(p!=null){var s=p.name;if(s==null||s.indexOf("UNSEL_")==0){continue}if(getRowPart(f).length>0){var h=f.substring(0,f.lastIndexOf("_R")+2);var z=getForm(A).elements;var b=new Array();for(var l=0;l<z.length;l++){var a=z[l];if(a.id&&a.name&&b[a.name]==null){b[a.name]=a;if(a.id.length>h.length&&a.id.substring(0,h.length)==h){j=addToURL(j,a,A)}}}}else{j=addToURL(j,p,A)}}}send(g+j,k,"ajaxSublist",A)}}}function addToURL(f,c,d){var a=f;var b=c.name;if(b.indexOf("UNSEL_")!=0){if(b.indexOf("SEL_")==0){b=b.substring(4)}var g=getElementValue(c,d);a+="&"+b+"="+encodeParam(g)}return(a)}function ajaxButtonAction(b,g,k,a,d,m,p,c,n,o,f){if(jscss("check",document.getElementById(k),DISABLED_CLASS)){return false}var h=getCompID(m,g);if(h!=null){g=h+g.substring(h.length+2)}else{g=g.substring(2)}b=findIdsToValidate(k,b,m);if(!validateDependentItems(b,g,a,d,m,o)){return false}if(!this["beforeAjaxButtonActionService"]||beforeAjaxButtonActionService(p,m,c,g,n,k)){if(!displayConfirmMsg(f)){return false}var j=document.getElementById(k);var l=j;while((l=getParentRow(l))!=null){if(l.onclick){execute(l,"onclick",CHANGED_SELECTION_TRIGGER)}}var i=buildFormUrlParameters(m,false,o,false,true).value;incQ(m);return postAjaxRunRulesRequest(c,m,n,"AJXButtonAction",g,k,p,i)}}function wrapCallToAjaxButtonAction(b){var a=ajaxButtonAction;ajaxButtonAction=function(){arguments[7]=b;a.apply(this,arguments)}}function ajaxHelp(c,g,d,f,b){var h="MODE="+prefixCompID(d,g,"AJXHelp")+"&id="+c+"&namespace="+d+"&controllername="+f;var a=(b)?b+"ajaxservletcontroller":"ajaxservletcontroller";makePOSTRequest(a,true,h,d,"ajaxHelp")}function setQlrNok(a){setVariable(a,"qlrOk","N")}function setQlrOk(a){setVariable(a,"qlrOk","Y")}function ajaxQuestionAction(i,d,a,l,n,c,m,b,j,h,g){if(getTriggeredReason()==FORMAT_VALIDATION_TRIGGER){return}var f=document.getElementById(d);if(f.tagName.toLowerCase()=="fieldset"){d=getElementIdFromEvent(b);if(d.length==0){return}f=document.getElementById(d)}if(f==null||!datePartsComplete(f,l)){return}var k=getTimeoutForAjaxQuestionAction(f);if(f.nodeName=="SELECT"){if(getVariable(l,"qlrOk")=="N"){return}k=getTimeoutForAjaxQuestionActionForSelect(f)}if(this["beforeAjaxQuestionAction"]){beforeAjaxQuestionAction(n,l,c,f,d,m,g)}incQ(l);setTimeout(function(){ajaxQuestionAction1(i,d,a,l,n,c,m,j,h,g)},k)}function getTimeoutForAjaxQuestionAction(a){return 10}function getTimeoutForAjaxQuestionActionForSelect(a){return 500}function replaceQuestionValueForName(d,b,a){var c=new RegExp("([?|&])"+escapeRegExp(b)+"=.*?(&|$)","i");if(d.match(c)){return d.replace(c,"$1"+b+"="+a+"$2")}else{return d+"&"+b+"="+a}}function escapeRegExp(a){return a.replace(/[.^$*+?()[{\\|\]-]/g,"\\$&")}function ajaxQuestionAction1(d,a,l,r,p,b,m,c,f,j){var o=document.getElementById(a);if(o==null||!datePartsComplete(o,r)){decQ(r,"ajaxQLR",true);return}setQlrNok(r);setTimeout("setQlrOk('"+r+"');",400);if(!this["beforeAjaxQuestionActionService"]||beforeAjaxQuestionActionService(p,r,b,o,m,j)){var h=getFocusValue(r,a);var n=getElementValue(o,r);var s=o.name;var i=getCompID(r,s);if(!i){i=""}if(!f||h!=n||(o.nodeName=="SELECT"&&s.indexOf(i+"SEL_")!=0)||(n!=null&&o.type=="file")){var k=buildFormUrlParameters(r,true,c,false,false);var g=k.value;var q=g.length>0&&(k.allValid||j);if(this["afterAjaxQuestionActionValidation"]){afterAjaxQuestionActionValidation(p,r,b,o,a,m,j,k,q)}g=k.value;if(g.length>0&&(k.allValid||j)){g+=("&QLR_FOCUS_ELEMENT="+o.id);g=replaceQuestionValueForName(g,s,encodeParam(n));return postAjaxRunRulesRequest(b,r,m,"AJXQuestionAction",d,o.id,p,g)}}else{if(this["afterAjaxQuestionActionValidation"]){afterAjaxQuestionActionValidation(p,r,b,o,a,m,j,new Object(),false)}}decQ(r,"ajaxQLR",true)}}function buildFormUrlParameters(n,p,l,m,b){var j=new Object();var o=new Array();j.allValid=true;j.value="";n=n||"";var f=getForm(n).elements;var k=new Array();for(var h=0;h<f.length;h++){var c=f[h];var a=c.name;if(a!=null&&a.length>0&&c.nodeName!="FIELDSET"){var g=getCompID(n,a);if(!g){g=""}if(a.indexOf(g+"SEL_")==0){a=g+a.substring(g.length+4)}if(a.indexOf(g+"UNSEL_")==0){continue}if(!c.disabled&&c.type!="button"&&c.type!="hidden"&&c.type!="image"&&(b||c.type!="file")&&k[g+a]==null){if(m==true&&questionIsValid(n,c,l,false)){j.value+="&"+a+"="+encodeParam(getElementValue(c,n))}else{if(m==false){j.value+="&"+a+"="+encodeParam(getElementValue(c,n))}}if(c.id.indexOf(SELECTOR_INDICATOR)>0){o.push(a)}if(a!="CONNECT_ACTIVE_TAB"){k[g+a]=c}if(p&&!questionIsValid(n,c,l,false)){j.allValid=false}}}}if(o.length>0){j.value+="&ROW_SELECTORS_LIST=";for(var d=0;d<o.length;d++){j.value+=o[d]+";"}}return j}function getFieldName(c,b){if(b&&b!=""){var a=getCompID(c,b);if(!a){a=""}if(b.indexOf(a+"SEL_")==0){b=a+b.substring(a.length+4)}}return b}function datePartsComplete(h,g){if((h.name!=null&&h.name.length>0)&&isDatePartFunctionName(h.name)){var b=h.id.substring(0,h.id.indexOf("."));var j="";if(getRowPart(h.id).length>0){j=h.id.substring(h.id.lastIndexOf("_R"))}var c="";var a="";for(var d=0;d<DATE_TIME_PARTS.length;d++){c=DATE_TIME_PARTS[d];a=b+"."+c.substring(0,c.length-2)+j;var f=document.getElementById(a);if(f&&(getElementValue(f,g).length==0)){return false}}}return true}function questionIsValid(c,f,g,b){if(c==null){c=""}var a=getVariable(c,"invalidQuestions");if((a[f.id]==null||b)&&window.formatCheckElems){var d=b?getFormElems(c):new Array(f);if(doFieldValidation(null,null,false,d,false,c,g)){return true}}else{if(a[f.id]==null){return true}}return false}function getFocusValue(b,c){var a=window[b+"focusValue"];return a[c]}function setUpFocusValue(b,c){if(c!=null&&getTriggeredReason()==""){var d="";if(c.id!=null){d=c.id}var a=getVariable(b,"focusValue");if(a==null||"string"==(typeof a)){setVariable(b,"focusValue",new Array())}setArray(b,"focusValue",d,getElementValue(c,b))}}function postAjaxRunRulesRequest(b,j,k,g,l,a,m,d){var i=document.title;if(k){var h=getForm(j);suspendDocument(j,document,h,a)}var c="MODE="+prefixCompID(j,a,g)+"&key="+l+d+"&id="+a+"&namespace="+j+"&controllername="+m+"&disable="+k+"&title="+encodeParam(i);makePOSTRequest(b+"ajaxservletcontroller",true,c,j,"ajaxQLR");decQ(j,"ajaxQLR",true)}function setDocumentTitle(a){document.title=a}function postAjaxCMSalternativeRequest(b,d,c,f,a){var c=c||"",f=f||"servletcontroller",a=a||"";var g="MODE="+prefixCompID(c,d,"AjaxCmsAlternative")+"&controllername="+f+"&namespace="+c+"&alternativeID="+b+"&id="+d;makePOSTRequest(a+"ajaxservletcontroller",true,g,c,"ajaxCmsRefreshCaller")}function ajaxCmsListPaging(f,g,c,d,b,a){var h="MODE="+prefixCompID(c,f,"AJXCmsListPaging")+"&cmsListId="+encodeParam(c+stripPrefix(c,f))+"&cmsListAlternativeId="+encodeParam(a)+"&cmsListPage="+encodeParam(g)+"&namespace="+c+"&controllername="+d;makePOSTRequest(b+"ajaxservletcontroller",true,h,c,"ajaxCmsListPaging")}function ajaxTabs(d,o,p,b,s,q,t,c){var g=document.getElementById(buildCompID(q,"Pane",d));if(g!=null&&getFirstRealChild(g)==null){var a=c+"ajaxservletcontroller?MODE="+prefixCompID(q,o,"AJXTabs")+"&tab="+o;if(p.length>0){var m=splitstring(p,"|",false);for(var k=0;k<m.length;k++){var f=m[k];var n=document.getElementsByName(f);for(var h=0;h<n.length;h++){var l=n[h];var r=getElementValue(l,q);a+="&"+f+"="+r}}}a+=("&namespace="+q+"&controllername="+t);a=addSubSessionIdToParameters(a,q);a=addPageEIDToParameters(a);sendForTabs(a,true,d,b,s,q)}else{changeTab(d,q,b,s)}}function sendForTabs(d,h,c,f,b,g){try{d+=getVariable(g,"pageCode")}catch(i){}var a=createRequestObject();a.type="TAB";a.open("GET",d,h);if(h){a.onreadystatechange=function(){callbackForTabs(true,a,c,f,b,g)};a.send(null)}else{a.send(null);return callbackForTabs(false,a,c,f,b,g)}}function callbackForTabs(c,d,b,a,l,j){var h=false;if(c){if(d.readyState==4&&d.status==200){h=true}}else{h=true}if(h){var k=[];try{if(this["beforeProcessResponse"]){beforeProcessResponse(j,"Tabs",d)}k=JSON.parse(d.responseText);for(var f=0;f<k.length;f++){updatePageWithObjectResponse(j,"ajaxTabs",true,k,f);changeTab(b,j,a,l)}if(this["postProcessResponse"]){postProcessResponse(j,"Tabs",true,d)}}catch(g){log(d.responseText)}}}function ajaxCheckHidden(L,d,C,x,B,M,G,u,f,K){if(M==null){M=""}setVariable(M,"CURRENT_FOCUS",K.id);var g=getCompID(M,K.id);if(g==null){g=""}var t=M+g;var w=checkHidden(L,d,C,x,B,M,g);var h=splitstring(L,"^",false);var q=splitstring(C,"^",false);var l="";for(var A=0;A<h.length;A++){if(w[A]){var v=t+"p4_"+h[A];var D=document.getElementById(v);if(D==null){v=t+"row_"+h[A];D=document.getElementById(v)}if(D==null){v=t+"row_ansRow"+h[A];D=document.getElementById(v)}if(D==null){v=t+"p1_"+h[A];D=document.getElementById(v);if(D==null){v=t+"p0_"+h[A];D=document.getElementById(v);if(D==null){v=t+h[A];D=document.getElementById(v);if(D==null){var n=v.lastIndexOf("_R")>-1;if(n){var s=v.substring(v.lastIndexOf("_R"));var p=v.substring(0,v.lastIndexOf("_R"));if(p.length>6){var o=p.substring(0,p.length-6);var E=document.getElementById(o+s);if(E){var I=E.parentNode;while(I&&I.id.length==0&&I.parentNode){I=I.parentNode}if(I&&I.id.length>0&&I.nodeName.toUpperCase()=="DIV"){l+=(I.id+"_Selector"+s+"^")}}}}}else{var J=document.getElementById(t+"Pane"+h[A]);var H=D.getElementsByTagName("div");var F=H.length;if(J==null&&(F==0||H[0].childNodes.length==0)){l+=(v+"^")}}}else{if(D.childNodes.length==0){l+=(h[A]+"^")}}}else{if(D.childNodes.length==0||jscss("check",D.childNodes[0],"ui-icon")){l+=(h[A]+"^")}}}else{if(h[A].indexOf("_R")>-1&&q[A]=="true"){if(D.getElementsByTagName("div").length>0){D=D.getElementsByTagName("div").item(0)}}if(D.tagName=="TD"){if(D.getElementsByTagName("div").length==0){l+=(h[A]+"^")}}else{if(D.tagName=="DIV"){var r=true;for(var z=0;z<D.childNodes.length;z++){var m=D.childNodes[z];if(m.nodeType==1){r=false;break}}if(r){l+=(h[A]+"^")}}}}}}if(l.length>0){var k=f+"ajaxservletcontroller?MODE="+g+"AJXHiddens&questions="+l+"&namespace="+M+"&controllername="+G;var y=buildFormUrlParameters(M,false,true,true,true).value;if(y.length>0){k+=("&"+y)}send(k,!u,"ajaxHiddens",M)}}function ajaxAutoComplete(f,c,d,b){if(!this["beforeAjaxAutoCompleteService"]||beforeAjaxAutoCompleteService(f,c,d,b)){if(f!=null&&f.value!=null&&f.value!=undefined){var a="ajaxservletcontroller?MODE="+prefixCompID(c,f.id,"AJXComplete")+"&id="+f.id+"&value="+encodeParam(f.value)+"&namespace="+c+"&controllername="+d;send(b+a,true,"ajaxAutoComplete",c)}}}function ajaxTablePaging(a,d,g,c,f,b){if(!this["beforeAjaxTablePagingService"]||beforeAjaxTablePagingService(a,d,g,c,f,b)){if(this["clientSideValidation"]&&this["formatCheckElems"]){if(!formatCheckElems(getFormElems(c),c)){return}}var h=buildFormUrlParameters(c,false,true,false,true).value;var i="MODE="+prefixCompID(c,a,"AJXTablePaging")+"&t2="+encodeParam(c+stripPrefix(c,a))+"&t3="+encodeParam(d)+"&t4="+encodeParam(g)+h+"&namespace="+c+"&controllername="+f;makePOSTRequest(b+"ajaxservletcontroller",true,i,c,"ajaxTablePaging")}}function ajaxTableSorting(p,i,f,l,k,q,c){if(!this["beforeAjaxTableSortingService"]||beforeAjaxTableSortingService(p,i,f,l,k,q,c)){if(this["clientSideValidation"]&&this["formatCheckElems"]){if(!formatCheckElems(getFormElems(k),k)){return}}var g=getCompID(k,p);if(g==null){g=""}var a=k+g+"SPAN_TABLE_"+p;var m=document.getElementById(a);if(m){var n=document.getElementById(k+g+"p1_"+f);var j=n&&n.getElementsByTagName("a");var b="";if(j&&j.length>0){b=j[0].getAttribute("aria-label")}var o=l=="ASC"?"ascending":(l=="DESC"?"descending":"");m.innerHTML=document.getElementById(p).caption.innerHTML+" "+b+" "+o}var d=buildFormUrlParameters(k,false,true,false,true).value;var h="MODE="+prefixCompID(k,p,"AJXTableSorting")+"&t2="+encodeParam(k+stripPrefix(k,p))+"&t3="+encodeParam(i)+"&t4="+encodeParam(f)+"&t5="+encodeParam(l)+d+"&namespace="+k+"&controllername="+q;makePOSTRequest(c+"ajaxservletcontroller",true,h,k,"ajaxTableSorting")}}function getTableFormData(d,b){var h=document.getElementById(d+b),g=h.getElementsByTagName("input"),f="",a;for(var c=0;c<g.length;c++){if(!g[c].disabled&&g[c].type!="button"&&g[c].type!="image"){if(g[c].id!=null&&g[c].id.indexOf("_Selector_")>-1){if(a==null){a=g[c]}}else{if(g[c].type!="checkbox"||g[c].checked){f+="&"+g[c].name+"="+encodeParam(getElementValue(g[c],d))}}}}if(a!=null){f+="&"+a.name+"="+encodeParam(getElementValue(a,d))}return f}function processBrowserNavigationButton(){if(navigator.userAgent.toLowerCase().indexOf("opera")==-1&&navigator.userAgent.toLowerCase().indexOf("chrome")==-1){history.go(-1)}}function ajaxBrowserNavigationCheck(a,d,f,b){var g="MODE=AjaxBrowserNavigationCheck"+a+"&namespace="+d+"&controllername="+f;makePOSTRequest(b+"ajaxservletcontroller",false,g,d,"AjaxBrowserNavigationCheck");var c=getVariable(d,"AjaxBrowserNavigationCheck","N");setVariable(d,"AjaxBrowserNavigationCheck",null);return"Y"==c}function createRequestObject(){var a;if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){log("ActiveX must be installed and enabled to run the request - please check your browser settings.");a=false}}}}return a}function incQ(b){var a=getVariable(b,"AJAX_QUEUE",0)+1;setVariable(b,"AJAX_QUEUE",a)}function getQSize(a){return getVariable(a,"AJAX_QUEUE",0)}function decQ(d,b,h){var c=getVariable(d,"AJAX_QUEUE",0);if(c>0){c--;setVariable(d,"AJAX_QUEUE",c);if(c==0){var a=processResponses(d,b,true);if(h){var f=getVariable(d,"AJAX_QUEUE_FUNCTION");setVariable(d,"AJAX_QUEUE_FUNCTION",null);resetReqId(d);if(a&&!isFormSubmitted(d)){if(f!=null){try{f()}catch(g){}}}}return a}else{if(b=="ajaxSublist"||b=="ajaxHiddens"){return processResponses(d,b,true)}return processResponses(d,b,false)}}return true}function getReqId(a){var b=getVariable(a,"AJAX_REQ_ID",0);setVariable(a,"AJAX_REQ_ID",b+1);return b}function resetReqId(a){setVariable(a,"AJAX_REQ_ID",0)}function send(d,g,c,f,a){var b=d.substring(0,d.indexOf("?"));var h=d.substring(d.indexOf("?")+1);return makePOSTRequest(b,g,h,f,c,a)}function makePOSTRequest(a,c,j,h,i,b){j=addSubSessionIdToParameters(j,h);j=addPageEIDToParameters(j);incQ(h);if(c==null){c=true}var g=createRequestObject();var d=getReqId(h);if(this["beforeAjaxPOSTRequest"]){try{beforeAjaxPOSTRequest(a,c,j,h,i,g)}catch(f){}}try{j+=getVariable(h,"pageCode")}catch(f){}g.open("POST",a,c);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(c){g.onreadystatechange=function(){var l=callback(c,g,i,h,d);if(typeof b=="function"&&g.readyState==4&&g.status==200){b(l)}};g.send(j)}else{g.send(j);var k=callback(c,g,i,h,d);if(typeof b=="function"){b(k)}return k}}function callback(f,h,b,d,c){try{if(this["afterAjaxPOSTRequest"]){afterAjaxPOSTRequest(f,h,b,d,c)}var g=false;if(f){if(h.readyState==4){if(h.status==200){g=true}else{if(h.status==0){decQ(d,b,true)}}}}else{g=true}var a=true;if(g){try{if(this["beforeProcessResponse"]){beforeProcessResponse(d,b,h)}RESPONSE_ARRAY=RESPONSE_ARRAY.concat(JSON.parse(h.responseText))}catch(i){log(i);log(h.responseText)}finally{a=decQ(d,b,true)}if(this["postProcessResponse"]){postProcessResponse(d,b,a,h)}}return a}finally{}}function processResponses(b,a,d){var c=RESPONSE_ARRAY;if(d){RESPONSE_ARRAY=new Array()}return processAjaxResponses(b,a,d,c)}function processAjaxResponses(c,b,h,d){var a=true;for(var f=0;f<d.length;f++){var g=d[f];if(hasAjaxValidationFailed(g)){a=false}if(h){if(!updatePageWithObjectResponse(c,b,h,d,f)){return false}if(g.text.indexOf("moveTo")>=0){moveMessagesToTargetId()}}}if(h){if(this["postProcessResponses"]){postProcessResponses(c,b,a)}runWidgetAjaxHooks("postProcessResponses",c,b,a)}return a}function hasAjaxValidationFailed(f){var d=false;var a=f.handler;var b=f.id;var g=f.actionFlag;var c=f.actionText;if((a=="AjaxValidationService"&&((b.indexOf("ERRORMESSAGE")>=0&&g=="SHOW")||(g=="EVAL"&&c.indexOf("alertComp")==0)))||(g=="EVAL"&&c.indexOf("showError(")==0)){d=true}return d}function findDateElementAndSubElements(d,g){var f=[];var c=false;for(var b=0;b<DATE_TIME_SUFFIXES.length;b++){var a=document.getElementById(d+DATE_TIME_SUFFIXES[b]);if(a!=null){c=true;f.push(a)}}if(!c){return null}if(g!=null){g.push.apply(g,f)}return f[0]}function findElement(a,b,f){var d=document.getElementById(a);if(d!=null&&"CELL"+a==d.parentNode.id){d=d.parentNode}if(d==null){d=findDateElementAndSubElements(a,f)}if(d==null){d=document.getElementById("p1_"+a)}if(d==null){d=document.getElementById(a+"__QLR")}if(d==null){d_element=d=document.getElementById(a+"_0");if(d==null){if(getRowPart(a).length>0){var c=a.lastIndexOf("_R");a=a.substring(0,c);d=document.getElementById(a)}if((d==null)&&(b!="NONE")){if(AJAX_DEBUG){alert("Ajax callback method. Can't find any tag with id="+a)}}}}return d}function updatePageWithObjectResponse(k,l,o,g,j){var f=g[j];var i=f.handler;var h=f.id;var a=f.innerouter;var n=f.text;var d=f.actionFlag;var p=f.actionText;var c;if("none"!=h){c=findElement(h,a);if(a!="NONE"&&(!c||!c.id)){return true}}var b=true;var m=postAjaxCallHook(i,h,a,n,d,p,l,c,k);if(m===true||m.continueAfterHook===true){h=m.element?m.element:h;a=m.innerOrOuter?m.innerOrOuter:a;n=m.text?m.text:n;d=m.actionFlag?m.actionFlag:d;p=m.actionData?m.actionData:p;c=m.dElement?m.dElement:c;b=processAjaxResponse(i,h,a,n,d,p,l,c,k,o,g,j)}postAjaxProcessingHook(i,h,a,n,d,p,l,c,k);return b}function processAjaxResponse(service,element,innerOrOuter,text,actionFlag,actionData,ajaxCaller,dElement,ns,doUpdate,respArray,currPos){if(innerOrOuter=="INNER"){var p4Ind=element.lastIndexOf("p4_");var inpId=element.substring(0,p4Ind)+element.substring(p4Ind+3);var disabled=getDisabledState(ajaxCaller,inpId);dElement.innerHTML=text;restoreDisabledState(ajaxCaller,inpId,disabled)}else{if(innerOrOuter=="OUTER"){setOuterHTML(dElement,text,service)}else{if(innerOrOuter=="INNER_DIV"){dElement=getParentNode(dElement,"div");dElement.innerHTML=text}else{if(innerOrOuter=="INNER_APPEND"){dElement.innerHTML=dElement.innerHTML+text}else{if(innerOrOuter=="OUTER_DIV"){dElement=getParentNode(dElement,"div");setOuterHTML(dElement,text,service)}else{if(innerOrOuter=="OUTER_TR"){dElement=getParentNode(dElement,"tr");setOuterHTML(dElement,text,service)}else{if(innerOrOuter=="VALUE"){if(dElement){dElement.value=text}}else{if(innerOrOuter=="HELP"){createHelpDiv(dElement,text,ns)}else{if(innerOrOuter=="STYLECLASS"){if(dElement){dElement.className=text}}else{if(innerOrOuter=="INLINESTYLE"){if(dElement){dElement.setAttribute("style",text)}}else{if(innerOrOuter=="HEAD_CONTENT"){addToHeadContent(text,actionData,ns,ajaxCaller,doUpdate,respArray,currPos);return false}else{if(innerOrOuter=="NONE"){}else{if(AJAX_DEBUG){alert("Ajax callback method. Called with wrong innerOrOuter argument. innerOrOuter="+innerOrOuter)}return true}}}}}}}}}}}}if(text.indexOf('script type="application/json')>-1){widgetApi.runWidgetsScripts(text)}if(innerOrOuter.indexOf("INNER")>-1){runScripts(text)}else{if((IE4||SAFARI||ANDROID)&&innerOrOuter.indexOf("OUTER")>-1){runScripts(text)}}var actionElement;if(actionFlag=="SHOW"&&actionData!=""){actionElement=document.getElementById(actionData);showElem(actionElement,true)}else{if(actionFlag=="HIDE"&&actionData!=""){actionElement=document.getElementById(actionData);showElem(actionElement,false)}else{if(actionFlag=="EVAL"&&actionData!=""){try{try{TRIGGERED_REASON.push(AJAX_RESPONSE_TRIGGER);if(ajaxCaller!="TetrisUpdate"){jsep.eval(actionData)}else{eval(actionData)}}catch(e){try{runScriptAtLDLevel(actionData)}catch(exc){log(exc);throw (e)}}runScripts(actionData)}catch(e){log(e);log(actionData)}finally{TRIGGERED_REASON.pop()}}}}dElement=document.getElementById(element);if(dElement!=null&&dElement.onchange!=null&&(""+dElement.onchange).indexOf("ajax")<0){execute(dElement,"onchange",AJAX_RESPONSE_TRIGGER)}if(text.indexOf("ec_suggest_")>=0&&dElement.style.display!=="none"){setupIframe(dElement)}return true}function runScripts(strcode){var scripts=new Array();while(strcode.indexOf("<script")>-1||strcode.indexOf("<\/script")>-1){var s=strcode.indexOf("<script");var s_e=strcode.indexOf(">",s);var e=strcode.indexOf("<\/script",s);var e_e=strcode.indexOf(">",e);scripts.push(strcode.substring(s_e+1,e));strcode=strcode.substring(0,s)+strcode.substring(e_e+1)}for(var scriptIndex=0;scriptIndex<scripts.length;scriptIndex++){try{window.eval(scripts[scriptIndex])}catch(ex){runScriptAtLDLevel(scripts[scriptIndex])}}}function addToHeadContent(n,a,d,m,b,o,c){var l=new Array();var g=0;for(var h=c+1;h<o.length;h++){l[g]=o[h];g++}var f=a.types;var k=a.urls;setResourceQSize(d,f.length);loadResource(d,m,b,l,f,k,0)}function loadResource(c,i,b,j,d,g,a){if(a<d.length&&d.length==g.length){var f=false,h;if(d[a]=="js"){h=document.createElement("script");h.type="text/javascript";h.src=g[a]}else{if(d[a]=="css"){h=document.createElement("link");h.rel="stylesheet";h.type="text/css";h.href=g[a]}else{if(d[a]=="inline_js"){h=document.createElement("script");h.type="text/javascript";h.innerHTML=g[a];f=true}else{if(d[a]=="inline_css"){h=document.createElement("style");h.type="text/css";h.innerHTML=g[a];f=true}}}}if(h){if(!f){if(h.readyState){h.onreadystatechange=function(){if(h.readyState=="loaded"||h.readyState=="complete"){h.onreadystatechange=null;resourceLoaded(c,i,b,j,d,g,a)}}}else{h.onload=function(){resourceLoaded(c,i,b,j,d,g,a)}}}else{resourceLoaded(c,i,b,j,d,g,a)}document.getElementsByTagName("head")[0].appendChild(h)}else{resourceLoaded(c,i,b,j,d,g,a)}}}function resourceLoaded(c,h,b,a,f,d,g){loadResource(c,h,b,a,f,d,g+1);decResourceQ(c,h,b,a)}function getResourceQSize(a){return getVariable(a,"AJX_RES_Q",0)}function setResourceQSize(b,a){return setVariable(b,"AJX_RES_Q",a)}function incResourceQ(b){var a=getResourceQSize(b)+1;setResourceQSize(b,a)}function decResourceQ(d,f,c,b){var a=getResourceQSize(d);if(a>0){a--;setResourceQSize(d,a);if(a==0){processAjaxResponses(d,f,c,b)}}return true}function postAjaxCallHook(i,f,g,j,c,b,h,a,d){if(this["after"+i]){return this["after"+i](i,f,g,j,c,b,h,a,d)}return true}function postAjaxProcessingHook(i,f,g,j,c,b,h,a,d){if(this["postProcess"+i]){this["postProcess"+i](i,f,g,j,c,b,h,a,d)}if(i!="AjaxTetrisService"&&this["postProcessAjaxTetrisService"]){postProcessAjaxTetrisService(i,f,g)}return true}function getDisabledState(d,b){var c=false;if(d=="ajaxSublist"){var a=document.getElementById(b);if(a){c=a.disabled}else{a=document.getElementById("p4_"+b);if(a){c=(a.style.display=="none")}}}return c}function restoreDisabledState(d,c,b){if(d=="ajaxSublist"){var a=document.getElementById(c);if(a){a.disabled=b;if(document.getElementById(SELECT_LIST_PREFIX+c)!=null){document.getElementById(SELECT_LIST_PREFIX+c).disabled=b}if(document.getElementById(UNSELECT_LIST_PREFIX+c)!=null){document.getElementById(UNSELECT_LIST_PREFIX+c).disabled=b}}}}function setupIframe(c){var a=c;showSuggetDiv(a);var b=document.getElementById("ec_suggest_iframe");if(b!=null){b.style.width=a.offsetWidth;b.style.height=a.offsetHeight;b.style.top=findPosY(c);b.style.left=findPosX(c);b.style.zIndex=2;b.style.display="block"}}function showSuggetDiv(a){showElem(a,true)}function findPosX(a){var b=0;if(a.offsetParent){while(a.offsetParent){b+=a.offsetLeft;a=a.offsetParent}}else{if(a.x){b+=a.x}}return b}function findPosY(b){var a=0;if(b.offsetParent){while(b.offsetParent){a+=b.offsetTop;b=b.offsetParent}}else{if(b.y){a+=b.y}}return a}function setOuterHTML(d,m,n){if(IE4||ANDROID){var h;if(d.nodeName=="TD"||d.nodeName=="TH"){h=m.substring(m.indexOf(">")+1,m.lastIndexOf("<"));d.innerHTML=h;var g=m.indexOf("style=");var f=m.indexOf(">");if(g>=0&&g<=f){g+=7;var s=m.substring(g,m.indexOf('"',g));d.style.cssText=s}else{d.style.cssText=""}g=m.indexOf("class=");if(g>-1){g+=7;if(g<=f){d.className=m.substring(g,m.indexOf('"',g))}else{d.className=""}}else{d.className=""}}else{if(d.nodeName=="TR"){var c=m.indexOf("<",m.indexOf(">"));h=m.substring(c,m.lastIndexOf("<"));var o;var p;if(h.indexOf("<td")==0){p="<td";o=h.split(p)}else{p="<th";o=h.split(p)}for(var k=0;k<o.length;k++){var r=o[k].indexOf("id=");var j=o[k].indexOf(">");if(r>-1&&r<j){var a=o[k].substring(r+4,o[k].indexOf('"',r+5));var b=document.getElementById(a);if(b!=null){setOuterHTML(b,p+o[k],n)}}}}else{d.outerHTML=m}}}else{d.outerHTMLInput=m;var l=d.ownerDocument.createRange();l.setStartBefore(d);var q=l.createContextualFragment(m);TRIGGERED_REASON.push(REPLACE_CHILD_TRIGGER);d.parentNode.replaceChild(q,d);TRIGGERED_REASON.pop()}if(n.indexOf("AjaxQuestionActionService")>=0||n.indexOf("AjaxButtonActionService")>=0){var g=m.indexOf("style=")+7;var f=m.indexOf(">");if(g>=0&&g<=f){var s=m.substring(g,m.indexOf('"',g));if(s.indexOf("display: none")>=0){d.style.display="none"}else{d.style.display=""}}else{d.style.display=""}}}function hideSuggestList(a,c){if(document.getElementById(a)==null){return}if(c!=null){setTimeout("document.getElementById('"+a+"').style.display='none'",c)}else{document.getElementById(a).style.display="none"}var b=document.getElementById("ec_suggest_iframe");if(b!=null){b.style.display="none"}}function hideSuggestListConstrained(c,a,d){var b=document.getElementById(c);if(b.value==null||b.value==undefined){hideSuggestList(a,d)}if(IsValueASuggestion(a,b.value)){hideSuggestList(a,d)}}function validAjaxAutoCompleteKeyPress(a){return(getKeyCode(a)!=13)}function handleTab(d,f,c,a){var b=getKeyCode(f);if(b==9){handleAutoSuggestChosen(d,f,c,a);return false}else{return true}}function suggestionKeyAction(g,f,a,h,j,b,d){var c=g.id;var i=getKeyCode(f);g.getAttribute("aria-activedescendant")&&g.setAttribute("aria-activedescendant","");if(i==40){changeSelectedSuggestion(c,true,a)}else{if(i==38){changeSelectedSuggestion(c,false,a)}else{if(i==13||i==9){handleAutoSuggestChosen(g,f,a,d)}else{ajaxAutoComplete(g,h,j,b)}}}}function handleAutoSuggestChosen(g,c,f,d){if(g==null||g.id==undefined||g.id==""){g=c?(c.target?c.target:c.srcElement):event.srcElement}var b=g.id;var a="ec_suggest_"+b;if(document.getElementById(a).style.display!="none"){var h=getSelectedSuggestion(b,f);if(d!=null&&d){h=createInputWithListKey(g,h)}if(h!=null){g.value=h;var i=document.getElementById(b);if(i.onchange){execute(i,"onchange",AJAX_RESPONSE_TRIGGER)}hideSuggestList(a);return false}}}function getSelectedSuggestion(a,c){var g=document.getElementById("ec_suggest_"+a);if(g!=null){for(var b=0;b<g.childNodes.length;b++){var f=g.childNodes[b];if(f.tagName&&f.tagName.toLowerCase()=="div"){if(f.className==c){var d=""+f.innerHTML;d=d.replace(/&amp;/g,"&");return d}}}}}function IsValueASuggestion(g,f){var a=g.substring(11);var d=document.getElementById(a);var i=document.getElementById(g);if(i!=null){for(var c=0;c<i.childNodes.length;c++){var h=i.childNodes[c];if(h.tagName&&h.tagName.toLowerCase()=="div"){var b=h.innerHTML.replace(/&amp;/g,"&");if(b.toLowerCase().indexOf(f.toLowerCase()+"<")==0){createInputWithListKey(d,h.innerHTML);return true}}}}return false}function changeSelectedSuggestion(d,m,a){var j=document.getElementById("ec_suggest_"+d);var k=j!=null&&j.childNodes.length>0;if(k){var n=null;var l=null;var g=null;var h=null;var f=0;for(var o=0;o<j.childNodes.length;o++){var b=j.childNodes[o];if(b.tagName&&b.tagName.toLowerCase()=="div"){if(f==0){n=b}if(b.className==a){g=b}else{if(g==null){l=b}else{if(h==null){h=b}}}f++}}var c=document.getElementById(d);if(g==null){if(m){n.className=a;c&&c.setAttribute("aria-activedescendant",n.id)}}else{if(m&&h!=null){g.className="";h.className=a;c&&c.setAttribute("aria-activedescendant",h.id)}else{if(!m&&l!=null){g.className="";l.className=a;c&&c.setAttribute("aria-activedescendant",l.id)}}}}}function autoCompleteSetValue(b,a,g,c){var f=document.getElementById(b);g=g.replace(/&amp;/g,"&");var d=(c!=null&&c)?createInputWithListKey(f,g):g;f.value=d;hideSuggestList(a);if(f.onchange&&f.onchange!=null&&IE4){execute(f,"onchange",AJAX_RESPONSE_TRIGGER)}return false}function resetHiddenElement(c){var d=c.id;var a="";if(getRowPart(d).length>0){a=d.substring(d.lastIndexOf("_R"));d=d.substring(0,d.lastIndexOf("_R"))}var b=document.getElementById(d+"_X"+a);if(b!=null){if(c.value!=null&&c.value.length>0){b.value=c.value}else{b.value=""}}}function createInputWithListKey(g,j){var h=g.id;var a="";if(getRowPart(h).length>0){a=h.substring(h.lastIndexOf("_R"));h=h.substring(0,h.lastIndexOf("_R"))}if(j!=null){var d=j.toLowerCase().indexOf("<span");if(d>=0){var k=j.substring(d);j=j.substring(0,d);var f=document.getElementById(h+"key"+a);var b;if(f==null){f=document.createElement("span");g.parentNode.appendChild(f);f.id=h+"key"+a;f.style.display="none";var i=document.getElementById(h+a);b=i.cloneNode(true);b.id=h+"_X"+a;f.appendChild(b);i.name=""}var c=k.substring(k.indexOf(">")+1,k.indexOf("<",k.indexOf(">")));b=document.getElementById(h+"_X"+a);b.value=c}}return j}function startJob(c,b,a){incQ(c)}function endJob(d,c,a,b){decQ(d,c,a)}function runScriptAtLDLevel(a){return true}function postAjaxFocusOn(a,b){setVariable(a,"CURRENT_FOCUS",b);focusOnCurrent(a)}function addPageEIDToParameters(a){a+="&PAGEEID="+pageEID;return a}var UNSELECT_LIST_PREFIX="UNSEL_";var SELECT_LIST_PREFIX="SEL_";var SEL_BTN_PREFIX="B1_";var SELALL_BTN_PREFIX="B2_";var DESEL_BTN_PREFIX="B3_";var DESELALL_BTN_PREFIX="B4_";function copyTransferableListValues(j,d){var k=document.forms[j+"form1"].getElementsByTagName("select");for(var f=0;f<k.length;f++){if(k[f].id.indexOf(UNSELECT_LIST_PREFIX)>-1){var h=getCompID(j,k[f].id);if(h==null){h=""}var g=k[f].id.substring(k[f].id.indexOf(UNSELECT_LIST_PREFIX)+UNSELECT_LIST_PREFIX.length);var a=h+UNSELECT_LIST_PREFIX+g;var b=h+SELECT_LIST_PREFIX+g;var c=h+g;selectThese(j,a,b);setHiddenWithSelected(j,b,c,d)}}}function selectThese(g,h,j){var a=document.getElementById(g+h);var k=document.getElementById(g+j);var d=new Array();for(var c=0;c<a.length;c++){if(c==0){removeEmptyOption(k)}if(a.options[c].selected){var f=new Option(a.options[c].text,a.options[c].value);f.id=a.options[c].id;k.options[k.options.length]=f;d[d.length]=c}}for(var c=((a.length)-1);c>=0;c--){for(var b=((d.length)-1);b>=0;b--){if(d[b]==c){a.options[c]=null}}}}function selectAll(b,h,g){var f=document.getElementById(b+h);var d=document.getElementById(b+g);for(var a=0;a<f.length;a++){if(a==0){removeEmptyOption(d)}var c=new Option(f.options[a].text,f.options[a].value);c.id=f.options[a].id;d.options[d.options.length]=c}for(var a=((f.length)-1);a>=0;a--){f.options[a]=null}}function removeEmptyOption(a){if(a.options.length>0){var b=a.options[0];if(b.value==null||b.value==""){a.options[0]=null}}}function setHiddenWithSelected(d,h,f,g){var h=document.getElementById(d+h);var a="";var c=0;for(var b=0;b<h.length;b++){if(b>0){a+="|"}a+=h.options[b].value;c++}hidden=document.getElementById(d+f);hidden.value=a;callOnChangeHandler(h,g)}function callOnChangeHandler(f,d){if(!f.disabled&&f.onchange){if(d&&(""+f.onchange).indexOf("ajaxCheckHidden")>=0){var b=""+f.onchange;var a=b.indexOf("ajaxCheckHidden");var c=b.substring(a+16,b.indexOf(";",a)-1).replace(/'/g,"").replace(/"/g,"").split(", ");if(c.indexOf("this")>0){c[c.indexOf("this")]=f}ajaxCheckHidden.apply(window,c)}else{if(!d){execute(f,"onchange",CHANGED_SELECTION_TRIGGER)}}}}(function(root){var COMPOUND="Compound",IDENTIFIER="Identifier",MEMBER_EXP="MemberExpression",LITERAL="Literal",THIS_EXP="ThisExpression",CALL_EXP="CallExpression",UNARY_EXP="UnaryExpression",BINARY_EXP="BinaryExpression",LOGICAL_EXP="LogicalExpression",CONDITIONAL_EXP="ConditionalExpression",ARRAY_EXP="ArrayExpression",PERIOD_CODE=46,COMMA_CODE=44,SQUOTE_CODE=39,DQUOTE_CODE=34,OPAREN_CODE=40,CPAREN_CODE=41,OBRACK_CODE=91,CBRACK_CODE=93,QUMARK_CODE=63,SEMCOL_CODE=59,COLON_CODE=58,throwError=function(message,index){var error=new Error(message+" at character "+index);error.index=index;error.description=message;throw error},t=true,unary_ops={"-":t,"!":t,"~":t,"+":t},binary_ops={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},getMaxKeyLen=function(obj){var max_len=0,len;for(var key in obj){if((len=key.length)>max_len&&obj.hasOwnProperty(key)){max_len=len}}return max_len},max_unop_len=getMaxKeyLen(unary_ops),max_binop_len=getMaxKeyLen(binary_ops),literals={"true":true,"false":false,"null":null},this_str="this",binaryPrecedence=function(op_val){return binary_ops[op_val]||0},createBinaryExpression=function(operator,left,right){var type=(operator==="||"||operator==="&&")?LOGICAL_EXP:BINARY_EXP;return{type:type,operator:operator,left:left,right:right}},isDecimalDigit=function(ch){return(ch>=48&&ch<=57)},isIdentifierStart=function(ch){return(ch===36)||(ch===95)||(ch>=65&&ch<=90)||(ch>=97&&ch<=122)},isIdentifierPart=function(ch){return(ch===36)||(ch===95)||(ch>=65&&ch<=90)||(ch>=97&&ch<=122)||(ch>=48&&ch<=57)},jsep=function(expr){var index=0,charAtFunc=expr.charAt,charCodeAtFunc=expr.charCodeAt,exprI=function(i){return charAtFunc.call(expr,i)},exprICode=function(i){return charCodeAtFunc.call(expr,i)},length=expr.length,gobbleSpaces=function(){var ch=exprICode(index);while(ch===32||ch===9){ch=exprICode(++index)}},gobbleExpression=function(){var test=gobbleBinaryExpression(),consequent,alternate;gobbleSpaces();if(exprICode(index)===QUMARK_CODE){index++;consequent=gobbleExpression();if(!consequent){throwError("Expected expression",index)}gobbleSpaces();if(exprICode(index)===COLON_CODE){index++;alternate=gobbleExpression();if(!alternate){throwError("Expected expression",index)}return{type:CONDITIONAL_EXP,test:test,consequent:consequent,alternate:alternate}}else{throwError("Expected :",index)}}else{return test}},gobbleBinaryOp=function(){gobbleSpaces();var biop,to_check=expr.substr(index,max_binop_len),tc_len=to_check.length;while(tc_len>0){if(binary_ops.hasOwnProperty(to_check)){index+=tc_len;return to_check}to_check=to_check.substr(0,--tc_len)}return false},gobbleBinaryExpression=function(){var ch_i,node,biop,prec,stack,biop_info,left,right,i;left=gobbleToken();biop=gobbleBinaryOp();if(!biop){return left}biop_info={value:biop,prec:binaryPrecedence(biop)};right=gobbleToken();if(!right){throwError("Expected expression after "+biop,index)}stack=[left,biop_info,right];while((biop=gobbleBinaryOp())){prec=binaryPrecedence(biop);if(prec===0){break}biop_info={value:biop,prec:prec};while((stack.length>2)&&(prec<=stack[stack.length-2].prec)){right=stack.pop();biop=stack.pop().value;left=stack.pop();node=createBinaryExpression(biop,left,right);stack.push(node)}node=gobbleToken();if(!node){throwError("Expected expression after "+biop,index)}stack.push(biop_info,node)}i=stack.length-1;node=stack[i];while(i>1){node=createBinaryExpression(stack[i-1].value,stack[i-2],node);i-=2}return node},gobbleToken=function(){var ch,to_check,tc_len;gobbleSpaces();ch=exprICode(index);if(isDecimalDigit(ch)||ch===PERIOD_CODE){return gobbleNumericLiteral()}else{if(ch===SQUOTE_CODE||ch===DQUOTE_CODE){return gobbleStringLiteral()}else{if(isIdentifierStart(ch)||ch===OPAREN_CODE){return gobbleVariable()}else{if(ch===OBRACK_CODE){return gobbleArray()}else{to_check=expr.substr(index,max_unop_len);tc_len=to_check.length;while(tc_len>0){if(unary_ops.hasOwnProperty(to_check)){index+=tc_len;return{type:UNARY_EXP,operator:to_check,argument:gobbleToken(),prefix:true}}to_check=to_check.substr(0,--tc_len)}return false}}}}},gobbleNumericLiteral=function(){var number="",ch,chCode;while(isDecimalDigit(exprICode(index))){number+=exprI(index++)}if(exprICode(index)===PERIOD_CODE){number+=exprI(index++);while(isDecimalDigit(exprICode(index))){number+=exprI(index++)}}ch=exprI(index);if(ch==="e"||ch==="E"){number+=exprI(index++);ch=exprI(index);if(ch==="+"||ch==="-"){number+=exprI(index++)}while(isDecimalDigit(exprICode(index))){number+=exprI(index++)}if(!isDecimalDigit(exprICode(index-1))){throwError("Expected exponent ("+number+exprI(index)+")",index)}}chCode=exprICode(index);if(isIdentifierStart(chCode)){throwError("Variable names cannot start with a number ("+number+exprI(index)+")",index)}else{if(chCode===PERIOD_CODE){throwError("Unexpected period",index)}}return{type:LITERAL,value:parseFloat(number),raw:number}},gobbleStringLiteral=function(){var str="",quote=exprI(index++),closed=false,ch;while(index<length){ch=exprI(index++);if(ch===quote){closed=true;break}else{if(ch==="\\"){ch=exprI(index++);switch(ch){case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="\t";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="\x0B";break;default:str+=ch}}else{str+=ch}}}if(!closed){throwError('Unclosed quote after "'+str+'"',index)}return{type:LITERAL,value:str,raw:quote+str+quote}},gobbleIdentifier=function(){var ch=exprICode(index),start=index,identifier;if(isIdentifierStart(ch)){index++}else{throwError("Unexpected "+exprI(index),index)}while(index<length){ch=exprICode(index);if(isIdentifierPart(ch)){index++}else{break}}identifier=expr.slice(start,index);if(literals.hasOwnProperty(identifier)){return{type:LITERAL,value:literals[identifier],raw:identifier}}else{if(identifier===this_str){return{type:THIS_EXP}}else{return{type:IDENTIFIER,name:identifier}}}},gobbleArguments=function(termination){var ch_i,args=[],node;while(index<length){gobbleSpaces();ch_i=exprICode(index);if(ch_i===termination){index++;break}else{if(ch_i===COMMA_CODE){index++}else{node=gobbleExpression();if(!node||node.type===COMPOUND){throwError("Expected comma",index)}args.push(node)}}}return args},gobbleVariable=function(){var ch_i,node;ch_i=exprICode(index);if(ch_i===OPAREN_CODE){node=gobbleGroup()}else{node=gobbleIdentifier()}gobbleSpaces();ch_i=exprICode(index);while(ch_i===PERIOD_CODE||ch_i===OBRACK_CODE||ch_i===OPAREN_CODE){index++;if(ch_i===PERIOD_CODE){gobbleSpaces();node={type:MEMBER_EXP,computed:false,object:node,property:gobbleIdentifier()}}else{if(ch_i===OBRACK_CODE){node={type:MEMBER_EXP,computed:true,object:node,property:gobbleExpression()};gobbleSpaces();ch_i=exprICode(index);if(ch_i!==CBRACK_CODE){throwError("Unclosed [",index)}index++}else{if(ch_i===OPAREN_CODE){node={type:CALL_EXP,"arguments":gobbleArguments(CPAREN_CODE),callee:node}}}}gobbleSpaces();ch_i=exprICode(index)}return node},gobbleGroup=function(){index++;var node=gobbleExpression();gobbleSpaces();if(exprICode(index)===CPAREN_CODE){index++;return node}else{throwError("Unclosed (",index)}},gobbleArray=function(){index++;return{type:ARRAY_EXP,elements:gobbleArguments(CBRACK_CODE)}},nodes=[],ch_i,node;while(index<length){ch_i=exprICode(index);if(ch_i===SEMCOL_CODE||ch_i===COMMA_CODE){index++}else{if((node=gobbleExpression())){nodes.push(node)}else{if(index<length){throwError('Unexpected "'+exprI(index)+'"',index)}}}}if(nodes.length===1){return nodes[0]}else{return{type:COMPOUND,body:nodes}}};jsep.version="<%= version %>";jsep.toString=function(){return"JavaScript Expression Parser (JSEP) v"+jsep.version};jsep.addUnaryOp=function(op_name){unary_ops[op_name]=t;return this};jsep.addBinaryOp=function(op_name,precedence){max_binop_len=Math.max(op_name.length,max_binop_len);binary_ops[op_name]=precedence;return this};jsep.removeUnaryOp=function(op_name){delete unary_ops[op_name];if(op_name.length===max_unop_len){max_unop_len=getMaxKeyLen(unary_ops)}return this};jsep.removeBinaryOp=function(op_name){delete binary_ops[op_name];if(op_name.length===max_binop_len){max_binop_len=getMaxKeyLen(binary_ops)}return this};if(typeof exports==="undefined"){var old_jsep=root.jsep;root.jsep=jsep;jsep.noConflict=function(){if(root.jsep===jsep){root.jsep=old_jsep}return jsep}}else{if(typeof module!=="undefined"&&module.exports){exports=module.exports=jsep}else{exports.parse=jsep}}function evalAst(ast,vars){return evalAstIntern(ast,false,vars)}function evalAstStrict(ast,vars){return evalAstIntern(ast,true,vars)}function evalAstIntern(ast,strict,vars){if(!vars){vars=window}var FAIL={};var result=(function walk(node){if(node.type==="Literal"){return node.value}else{if(node.type==="UnaryExpression"){var val=walk(node.argument);if(node.operator==="+"){return +val}if(node.operator==="-"){return -val}if(node.operator==="~"){return ~val}if(node.operator==="!"){return !val}return FAIL}else{if(node.type==="ArrayExpression"){var xs=[];for(var i=0,l=node.elements.length;i<l;i++){var x=walk(node.elements[i]);if(x===FAIL){return FAIL}xs.push(x)}return xs}else{if(node.type==="BinaryExpression"||node.type==="LogicalExpression"){var l=walk(node.left);if(l===FAIL){return FAIL}var r=walk(node.right);if(r===FAIL){return FAIL}var op=node.operator;if(strict){if(op==="=="){return l+""==r+""}if(op==="!="){return l+""!=r+""}}else{if(op==="=="){return l==r}if(op==="!="){return l!=r}}if(op==="==="){return l===r}if(op==="!=="){return l!==r}if(op==="+"){return l+r}if(op==="-"){return l-r}if(op==="*"){return l*r}if(op==="/"){return l/r}if(op==="%"){return l%r}if(op==="<"){return l<r}if(op==="<="){return l<=r}if(op===">"){return l>r}if(op===">="){return l>=r}if(op==="|"){return l|r}if(op==="&"){return l&r}if(op==="^"){return l^r}if(op==="&&"){return l&&r}if(op==="||"){return l||r}return FAIL}else{if(node.type==="Identifier"){if({}.hasOwnProperty.call(vars,node.name)){return vars[node.name]}else{return FAIL}}else{if(node.type==="CallExpression"){var callee=walk(node.callee);if(callee===FAIL){return FAIL}var ctx=node.callee.object?walk(node.callee.object):FAIL;if(ctx===FAIL){ctx=null}var args=[];for(var i=0,l=node.arguments.length;i<l;i++){var x=walk(node.arguments[i]);if(x===FAIL){return FAIL}args.push(x)}return callee.apply(ctx,args)}else{if(node.type==="MemberExpression"){var obj=walk(node.object);if(obj===FAIL){return FAIL}if(node.property.type==="Identifier"){return obj[node.property.name]}var prop=walk(node.property);if(prop===FAIL){return FAIL}return obj[prop]}else{if(node.type==="ConditionalExpression"){var val=walk(node.test);if(val===FAIL){return FAIL}return val?walk(node.consequent):walk(node.alternate)}else{if(node.type==="Compound"){var nodes=node.body;for(var i=0;i<nodes.length;i++){walk(nodes[i])}}else{return FAIL}}}}}}}}}})(ast);return result===FAIL?undefined:result}jsep.eval=function(str,vars){return evalAst(jsep(str),vars)};jsep.evalStrict=function(str,vars){return evalAstStrict(jsep(str),vars)}}(this));var timeout=2000;var skipcycle=false;function initPopup(){if(!this["beforeInitPopup"]||beforeInitPopup()){if(document.addEventListener){document.addEventListener("keydown",function(h){return handleRefresh(h)})}else{document.attachEvent("onkeydown",function(h){return handleRefresh(h)})}var g=document.querySelectorAll("button, a, input, select, textarea"),f=[];for(var b=0;b<g.length;b++){var d=g[b];if(d.getElementsByClassName.display!=="none"&&d.style.visibility!=="hidden"&&d.type!=="hidden"){f.push(d)}}if(f.length){f[0].focus();var c=f[f.length-1];var a=window.parent.document.getElementById("closeDefaultPopup");c.addEventListener("keydown",function(h){if(h.keyCode===9&&!h.shiftKey){h.preventDefault();a&&a.focus()}});a&&a.addEventListener("keydown",function(h){if(h.keyCode===9&&h.shiftKey){h.preventDefault();c.focus()}})}}if(this["afterInitPopup"]){afterInitPopup()}}function handleRefresh(a){if(a.which==116||a.keyCode==82&&a.ctrlKey){a.stopPropagation();document.location.reload();return false}if(a.which==27||a.keyCode==27){a.stopPropagation();a.preventDefault();window.parent.document.getElementById("closeDefaultPopup").click();return false}}function cancelCallerPopup(b,g,f,a,c){if(!getVariable(b,"hasSubmitted")&&(!c.clientX||c.clientX<-3000||c.clientY<0)){try{window.opener.cancelpopup(b,g,f,a,"CANCELPOPUP")}catch(d){}try{window.close()}catch(d){}}}var detect=navigator.userAgent.toLowerCase();var OS,browser,version,total,thestring;if(checkIt("konqueror")){browser="Konqueror";OS="Linux"}else{if(checkIt("safari")){browser="Safari"}else{if(checkIt("omniweb")){browser="OmniWeb"}else{if(checkIt("opera")){browser="Opera"}else{if(checkIt("webtv")){browser="WebTV"}else{if(checkIt("icab")){browser="iCab"}else{if(checkIt("msie")){browser="Internet Explorer"}else{if(!checkIt("compatible")){browser="Netscape Navigator";version=detect.charAt(8)}else{browser="An unknown browser"}}}}}}}}if(!version||version==null){version=detect.charAt(place+thestring.length)}if(!OS){if(checkIt("linux")){OS="Linux"}else{if(checkIt("x11")){OS="Unix"}else{if(checkIt("mac")){OS="Mac"}else{if(checkIt("win")){OS="Windows"}else{OS="an unknown operating system"}}}}}function checkIt(a){place=detect.indexOf(a)+1;thestring=a;return place}function spellCheck(g,f,c,b,a){if(!this["beforeSpellCheck"]||beforeSpellCheck(g,f,c,b)){if(!buttonsEnabled(c)){return false}var d=new Array(0);d[d.length]=g;startSpellCheck(d,f,a,c,b)}if(this["afterSpellCheck"]){afterSpellCheck(g,f,c,b)}}function startSpellCheck(b,m,k,i,g){var h="?op=1";for(var j=0;j<b.length;j++){var d=b[j].form;var l=getFormNumber(d);h=h+"&element_"+j+"="+b[j].name+"&form_number_"+j+"="+l}h=h+"&namespace="+i+"&controllername="+m;h=addSubSessionIdToParameters(h,i);var c=g?g:"";c+="spellcheck_entry";c+=h;var f=getVariable(i,"uxp_spellchecker_width",450);var a=getVariable(i,"uxp_spellchecker_height",200);openCenteredWindow(c,f,a,k)}function getFormNumber(c){var b=document.forms;for(var a=0;a<b[a].length;a++){if(b[a]==c){return a}}return -1}function openCenteredWindow(c,d,a,f){var g=f.target;var h=calcPopupPosition(d,a,f,g);var b=window.open(c,"","height="+(a)+",width="+(d)+",left="+h.x+",top="+h.y+",location=no,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=yes,toolbar=no");return b};