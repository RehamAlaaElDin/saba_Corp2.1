function webSocketStart(b,c){var d=setupWebSocketObject(b,c);var a=getVariable("","websocketObject",undefined);if(a){if(d||a.readyState==0){configureWebSocketObject(a,webSocketRuleList)}else{a.send(webSocketRuleList)}}return a}function setupWebSocketObject(e,d){var g=getVariable("","websocketObject",undefined);if(!g){var h=window.location;var f=h.hostname;var i=h.port;if(!e){return}var a=e+"/websocketcontroller";var j=h.protocol;if(j==="http:"){j="ws:"}else{if(j==="https:"){j="wss:"}}var b=i?":"+i:"";var c=j+"//"+f+b+a+"/?"+d;if(this["alterWebsocketConnectionUrl"]){c=alterWebsocketConnectionUrl(c)}g=new WebSocket(c);setVariable("","websocketObject",g);return true}return false}function configureWebSocketObject(a,b){a.onopen=function(){a.send(b)};a.onmessage=function(d){var c=JSON.parse(d.data);processAjaxResponses("","ajaxQLR",true,c)}}function addToWebsocketRuleList(b,a,c){webSocketRuleList=[];webSocketRuleList[0]=b;webSocketStart(a,c)};