window.UXP=webpackJsonpUXP([1],{594:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(595),i=(o(r),n(596)),a=(o(i),n(597)),u=(o(a),n(598)),s=(o(u),n(599)),c=(o(s),n(600)),l=(o(c),n(601)),f=(o(l),n(602));o(f)},595:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(54),p=o(f),d=n(4),h=o(d),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.takePicture=e.takePicture.bind(e),e}return a(t,e),s(t,[{key:"takePicture",value:function(e){var t=this,n=this.props.view.widgetAttributes,o={quality:n.Quality,sourceType:n.Source.indexOf("CAMERA")>-1?navigator.camera.PictureSourceType.CAMERA:navigator.camera.PictureSourceType.SAVEDPHOTOALBUM,destinationType:navigator.camera.DestinationType.DATA_URL},r=function(o){if(t.props.store.setValue(t.props.componentId+n.DI_NAME,o),t.props.setProperty(""),null!=n.SuccessMessage&&""!=n.SuccessMessage&&navigator.notification.alert(n.SuccessMessage,function(){},n.NotificationTitle,n.NotificationCloseText),"Y"!=n.RunButtonRules)return!1;t.props.doClick(e)},i=function(){""!=n.ErrorMessage&&navigator.notification.alert(n.ErrorMessage,function(){},n.NotificationTitle,n.NotificationCloseText),event.preventDefault()};navigator.camera.getPicture(r,i,o)}},{key:"render",value:function(){return l.default.createElement(p.default,u({},this.props,{doClick:this.takePicture}))}}]),t}(l.default.Component);t.default=v,h.default.add("com.temenos.widgets.hybrid.camera.addImage",v)},596:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=o(s),l=n(3),f=o(l),p=n(4),d=o(p),h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={runNotify:!0},e.runNotifications=e.runNotifications.bind(e),e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=f.default.isApplicable(this.props.view.appCond,this.props);this.state={runNotify:e},this.runNotifications()}},{key:"componentDidUpdate",value:function(e,t){var n=f.default.isApplicable(e.view.appCond,e),o=t.runNotify;this.state={runNotify:!o&&n},this.runNotifications()}},{key:"runNotifications",value:function(){if(this.state.runNotify){var e=this.props.view.widgetAttributes;if("alert"==e.Action){var t=e.message,n=e.title;navigator.notification.alert(t,function(){},n,"")}else if("beep"==e.Action){var o=isNaN(e.times)?1:e.times-0;navigator.notification.beep(o)}else if("vibrate"==e.Action){var r=isNaN(e.time)?3e3:e.time-0;navigator.vibrate(r)}}}},{key:"render",value:function(){return null}}]),t}(c.default.Component);t.default=h,d.default.add("Text|com.temenos.widgets.hybrid.notifications.notify",h)},597:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(35),p=o(f),d=n(54),h=o(d),v=n(4),y=o(v),b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={started:!1,watchId:null,previousAcceleration:{x:null,y:null,z:null}},e.startWatch=e.startWatch.bind(e),e.stopWatch=e.stopWatch.bind(e),e.getAccelerationSnapshot=e.getAccelerationSnapshot.bind(e),e.assessCurrentAcceleration=e.assessCurrentAcceleration.bind(e),e.handleError=e.handleError.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.state.started||this.startWatch();var t=p.default.findDOMNode(this.buttonComponent);"Y"==this.props.view.widgetAttributes.ShakeOpt?this.addEvent("shakeDetected",function(){e.stopWatch(),e.props.doClick(t)}):"Y"==this.props.view.widgetAttributes.UpSideDown&&this.addEvent("faceDownDetected",function(){e.stopWatch(),e.props.doClick(t)})}},{key:"componentWillUnmount",value:function(){this.state.started&&this.stopWatch()}},{key:"startWatch",value:function(){var e={frequency:Number(this.props.view.widgetAttributes.Frequency)},t=navigator.accelerometer.watchAcceleration(this.getAccelerationSnapshot,this.handleError,e);this.setState({started:!0,watchId:t})}},{key:"stopWatch",value:function(){null!==this.state.watchId&&(navigator.accelerometer.clearWatch(this.state.watchId),this.state.watchId=null),this.state.started=!1}},{key:"getAccelerationSnapshot",value:function(){navigator.accelerometer.getCurrentAcceleration(this.assessCurrentAcceleration,this.handleError)}},{key:"triggerEvent",value:function(e){if(document.createEvent){var t=document.createEvent("Event");t.initEvent(e,!0,!0),document.dispatchEvent(t)}else document.documentElement[e]++}},{key:"addEvent",value:function(e,t){document.addEventListener?document.addEventListener(e,t,!1):document.documentElement.attachEvent("onpropertychange",function(n){n.propertyName==e&&t()})}},{key:"removeEvent",value:function(e,t){document.removeEventListener?document.removeEventListener(e,t,!1):document.documentElement.detachEvent("onpropertychange",t)}},{key:"assessCurrentAcceleration",value:function(e){var t={},n=this.state.previousAcceleration;null!==n.x&&(t.x=Math.abs(n.x-e.x),t.y=Math.abs(n.y-e.y),t.z=Math.abs(n.z-e.z)),e.z<-9?(this.triggerEvent("faceDownDetected"),this.stopWatch(),setTimeout(this.startWatch,1e3),n={x:null,y:null,z:null}):t.x+t.y+t.z>20?(this.triggerEvent("shakeDetected"),this.stopWatch(),setTimeout(this.startWatch,1e3),n={x:null,y:null,z:null}):n={x:e.x,y:e.y,z:e.z},this.state.previousAcceleration=n}},{key:"handleError",value:function(e){}},{key:"render",value:function(){var e=this;return"Y"==this.props.view.widgetAttributes.button_body?l.default.createElement(h.default,u({},this.props,{ref:function(t){return e.buttonComponent=t}})):l.default.createElement("div",{style:{display:"none"}},l.default.createElement(h.default,u({},this.props,{ref:function(t){return e.buttonComponent=t}})))}}]),t}(l.default.Component);t.default=b,y.default.add("com.temenos.widgets.hybrid.accelerometer.detectGestures",b)},598:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(54),p=o(f),d=n(4),h=o(d),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={lat:null,long:null,acc:null,alt:null,ts:null},e.getCoordinates=e.getCoordinates.bind(e),e.success=e.success.bind(e),e.failure=e.failure.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.getCoordinates()}},{key:"getCoordinates",value:function(){navigator.geolocation.getCurrentPosition(this.success,this.failure)}},{key:"success",value:function(e){var t=this.props.store,n=this.props.view.widgetAttributes;this.setState({lat:e.coords.latitude,long:e.coords.longitude,acc:e.coords.accuracy,alt:e.coords.altitude,ts:e.timestamp}),t.setVariable(n.latitude,this.props.componentId,e.coords.latitude),t.setVariable(n.longitude,this.props.componentId,e.coords.longitude),t.setVariable(n.accuracy,this.props.componentId,e.coords.accuracy),t.setVariable(n.altitude,this.props.componentId,e.coords.altitude),t.setVariable(n.timeStamp,this.props.componentId,e.timestamp),this.props.setProperty("")}},{key:"failure",value:function(e){alert("code: "+e.code+"\nmessage: "+e.message+"\n")}},{key:"render",value:function(){var e=this.props.view.widgetAttributes;return l.default.createElement(l.default.Fragment,null,l.default.createElement(p.default,u({},this.props,{doClick:this.getCoordinates}))," ",null!=this.state.lat&&l.default.createElement("input",{type:"hidden",name:"_V_"+e.latitude,value:this.state.lat,onChange:function(){}}),null!=this.state.long&&l.default.createElement("input",{type:"hidden",name:"_V_"+e.longitude,value:this.state.long,onChange:function(){}}),null!=this.state.acc&&l.default.createElement("input",{type:"hidden",name:"_V_"+e.accuracy,value:this.state.acc,onChange:function(){}}),null!=this.state.alt&&l.default.createElement("input",{type:"hidden",name:"_V_"+e.altitude,value:this.state.alt,onChange:function(){}}),null!=this.state.ts&&l.default.createElement("input",{type:"hidden",name:"_V_"+e.timeStamp,value:this.state.ts,onChange:function(){}}))}}]),t}(l.default.Component);t.default=v,h.default.add("com.temenos.widgets.hybrid.geolocation.deviceLocation",v)},599:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(35),p=o(f),d=n(54),h=o(d),v=n(4),y=o(v),b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.goBack=e.goBack.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("backbutton",this.goBack,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("backbutton",this.goBack,!1)}},{key:"goBack",value:function(){var e=p.default.findDOMNode(this.buttonComponent);this.props.doClick(e)}},{key:"render",value:function(){var e=this;return"Y"==this.props.view.widgetAttributes.button_body?l.default.createElement(h.default,u({},this.props,{doClick:this.goBack,ref:function(t){return e.buttonComponent=t}})):l.default.createElement("div",{style:{display:"none"}},l.default.createElement(h.default,u({},this.props,{doClick:this.goBack,ref:function(t){return e.buttonComponent=t}})))}}]),t}(l.default.Component);t.default=b,y.default.add("com.temenos.widgets.hybrid.events.backbutton",b)},600:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=o(s),l=n(297),f=o(l),p=n(4),d=o(p),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getContacts=n.getContacts.bind(n),n.setValue=n.setValue.bind(n),n.populateField=n.populateField.bind(n),n.getContacts(),n}return a(t,e),u(t,[{key:"setValue",value:function(e,t,n,o){if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=null==e[r].value?e[r]:e[r].value;if(this.populateField(t,i,o+"_"+(r+1)),i&&i.length>0){var a=null==e[r].type?"":e[r].type;this.populateField(n,a,o+"_"+(r+1))}}else this.populateField(t,e,o)}},{key:"populateField",value:function(e,t,n){var o=this.props.store.processName(this.props.componentId+e,n);this.props.store.setValue(o,t)}},{key:"getContacts",value:function(){var e=this,t=new ContactFindOptions;t.multiple=!0;var n=["*"],o=this.props.view.widgetAttributes;navigator.contacts.find(n,function(t){e.props.view.maxInstances=t.length;for(var n=0;n<t.length;n++)e.setValue(t[n].name.formatted,o.DI_NAME,null,n+1),e.setValue(t[n].phoneNumbers,o.DI_NUMBERS,o.DI_NUMBERS_TYPE,n+1),e.setValue(t[n].emails,o.DI_EMAILS,o.DI_EMAILS_TYPE,n+1),e.setValue(t[n].urls,o.DI_URLS,o.DI_URLS_TYPE,n+1),e.setValue(t[n].note,o.DI_NOTE,null,n+1);e.props.setProperty("")},function(){alert(e.props.view.ErrorMessage)},t)}},{key:"render",value:function(){return"Y"==this.props.view.widgetAttributes.GEN_TABLE?c.default.createElement(f.default,this.props):c.default.createElement("div",{style:{display:"none"}},c.default.createElement(f.default,this.props))}}]),t}(c.default.Component);t.default=h,d.default.add("com.temenos.widgets.hybrid.contacts.getContacts",h)},601:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(54),p=o(f),d=n(4),h=o(d),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.firstName="",e.middleName="",e.lastName="",e.addContact=e.addContact.bind(e),e.removeExisting=e.removeExisting.bind(e),e.createContact=e.createContact.bind(e),e}return a(t,e),s(t,[{key:"removeExisting",value:function(e,t){var n=t.split(" ");if(this.firstName=n[0],this.middleName=n.reduce(function(e,t,n,o){return 0==n||n==o.length-1?e:e+(1==n?"":" ")+t},""),this.lastName=n.length>1?n[n.length-1]:"",e.length>0)for(var o=e.length-1;o>=0;o--)e[o].name.givenName==this.firstName&&e[o].name.middleName==this.middleName&&e[o].name.familyName==this.lastName&&e[o].remove()}},{key:"createContact",value:function(e){var n=this.props.store,o=this.props.view.widgetAttributes,r=n.getValue(o.DI_NUMBERS,this.props.instance),i=n.getValue(o.DI_EMAILS,this.props.instance),a=n.getValue(o.DI_URLS,this.props.instance),u=n.getValue(o.DI_NOTE,this.props.instance),s=navigator.contacts.create();s.displayName=e,s.phoneNumbers=t.makeContactArray(r),s.emails=t.makeContactArray(i),s.urls=t.makeContactArray(a),s.note=u;var c=new ContactName;return c.givenName=this.firstName,c.middleName=this.middleName,c.familyName=this.lastName,s.name=c,s}},{key:"addContact",value:function(e){var t=this,n=this.props.store,o=this.props.view.widgetAttributes,r=new ContactFindOptions;r.filter=n.getValue(o.DI_NAME,this.props.instance),r.multiple=!0;var i=["displayName","name"];navigator.contacts.find(i,function(r){var i=n.getValue(o.DI_NAME,t.props.instance);if(null==i||""==i)return o.ErrorMessage&&navigator.notification.alert(o.ErrorMessage,function(){},"Contacts","Close"),!1;t.removeExisting(r,i),t.createContact(i).save(function(){if(null!=o.SuccessMessage&&navigator.notification.alert(o.SuccessMessage,function(){},"Contacts","Close"),"Y"!=o.RunButtonRules)return!1;t.props.doClick(e)},function(){o.ErrorMessage&&navigator.notification.alert(o.ErrorMessage,function(){},"Contacts","Close")})},function(){alert(o.ErrorMessage)},r)}},{key:"render",value:function(){return l.default.createElement(p.default,u({},this.props,{doClick:this.addContact}))}}],[{key:"makeContactArray",value:function(e){for(var t=["home","mobile","work","other"],n=0,o=[],r=e.split(","),i=0;i<r.length;i++)n=i>t.length-1?t.length-1:i,o[i]=new ContactField(t[n],r[i].trim(),0==i);return o}}]),t}(l.default.Component);t.default=v,h.default.add("com.temenos.widgets.hybrid.contacts.addContact",v)},602:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),l=o(c),f=n(81),p=o(f),d=n(54),h=o(d),v=n(4),y=o(v),b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.viewPDF=e.viewPDF.bind(e),e.handleClick=e.handleClick.bind(e),e}return a(t,e),s(t,[{key:"viewPDF",value:function(e,t){var n=/^([a-z]+:\/\/|\/\/)/i.test(e),o=n?e:[location.protocol,"//",location.host,e.replace(/^\/?/,"/")].join(""),r=!0;if(r="function"==typeof showProgress&&"function"==typeof closeProgress,!t){var i=o.split("/");t=i.pop()?i.pop():"report.pdf"}r&&showProgress(),window.requestFileSystem(window.TEMPORARY,0,function(e){c("file system open: "+e.name),e.root.getFile(t,{create:!0,exclusive:!1},function(e){a(e,o)},s)},s);var a=function(e,t){var n=new FileTransfer,o=e.toURL();n.download(t,o,function(t){c("file transfer complete: "+t.toURL()),u(e),r&&closeProgress()},s,null,{})},u=function(e){var t=e.toURL(),n=function(e){};cordova.plugins.temenos.OpenFileInExternalViewer.viewDocument(t,"application/pdf",n)},s=function(e){},c=function(e){}}},{key:"handleClick",value:function(){var e=p.default.deviceLookup(this.props.store,"DEVICE_INFO.platform"),t=StringUtils.process(this.props.view.widgetAttributes.URL,u({},this.props)),n=StringUtils.process(this.props.view.widgetAttributes.FileName,u({},this.props));"Android"==e?this.viewPDF(t,n):window.open(t,"_blank","location=no")}},{key:"render",value:function(){return l.default.createElement(h.default,u({},this.props,{doClick:this.handleClick}))}}]),t}(l.default.Component);t.default=b,y.default.add("com.temenos.widgets.hybrid.viewPDFAndroid",b)}},[594]);