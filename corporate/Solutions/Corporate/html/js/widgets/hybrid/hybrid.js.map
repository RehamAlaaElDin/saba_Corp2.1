{"version":3,"sources":["webpack:///./src/js/widgets/hybrid/app-hybrid.js","webpack:///./src/js/widgets/hybrid/camera.js","webpack:///./src/js/widgets/hybrid/notifications.js","webpack:///./src/js/widgets/hybrid/accelerometer.js","webpack:///./src/js/widgets/hybrid/geolocation.js","webpack:///./src/js/widgets/hybrid/back.js","webpack:///./src/js/widgets/hybrid/getContacts.js","webpack:///./src/js/widgets/hybrid/addContact.js","webpack:///./src/js/widgets/hybrid/viewPDFAndroid.js"],"names":["Camera","takePicture","bind","button","widgetAttrs","props","view","widgetAttributes","cameraOptions","quality","Quality","sourceType","Source","indexOf","navigator","camera","PictureSourceType","CAMERA","SAVEDPHOTOALBUM","destinationType","DestinationType","DATA_URL","onSuccess","imageData","store","setValue","componentId","DI_NAME","setProperty","SuccessMessage","notification","alert","NotificationTitle","NotificationCloseText","RunButtonRules","doClick","onFail","ErrorMessage","event","preventDefault","getPicture","React","Component","UXPComponentFactory","add","Notification","state","runNotify","runNotifications","isApplicable","UXUtils","appCond","newProps","currentState","Action","message","title","times","isNaN","beep","time","vibrate","Accelerometer","started","watchId","previousAcceleration","x","y","z","startWatch","stopWatch","getAccelerationSnapshot","assessCurrentAcceleration","handleError","ReactDOM","findDOMNode","buttonComponent","ShakeOpt","addEvent","UpSideDown","options","frequency","Number","Frequency","accelerometer","watchAcceleration","setState","clearWatch","getCurrentAcceleration","eventName","document","createEvent","initEvent","dispatchEvent","documentElement","callback","addEventListener","attachEvent","e","propertyName","removeEventListener","detachEvent","acceleration","accelerationChange","Math","abs","triggerEvent","setTimeout","console","log","button_body","bc","display","GeoLocation","lat","long","acc","alt","ts","getCoordinates","success","failure","geolocation","getCurrentPosition","position","coords","latitude","longitude","accuracy","altitude","timestamp","setVariable","timeStamp","error","code","BackButton","goBack","GetContacts","getContacts","populateField","val","fieldDataItem","typeDataItem","instance","Array","isArray","j","length","fieldVal","value","typeVal","type","dataItemName","processedName","processName","ContactFindOptions","multiple","fields","contacts","find","maxInstances","i","name","formatted","phoneNumbers","DI_NUMBERS","DI_NUMBERS_TYPE","emails","DI_EMAILS","DI_EMAILS_TYPE","urls","DI_URLS","DI_URLS_TYPE","note","DI_NOTE","GEN_TABLE","AddContact","firstName","middleName","lastName","addContact","removeExisting","createContact","contact","diSplitNames","split","reduce","curr","index","arr","givenName","familyName","remove","phoneNums","getValue","notes","myContact","create","displayName","makeContactArray","ContactName","filter","save","input","types","tIndex","tmpArr","ContactField","trim","ViewPDF","viewPDF","handleClick","url","fileName","debug_mode","isAbsoluteUrl","test","absoluteUrl","location","protocol","host","replace","join","progressIndicatorEnabled","showProgress","closeProgress","parts","pop","window","requestFileSystem","TEMPORARY","fs","logDebugMessage","root","getFile","exclusive","fileEntry","downloadFile","onFileTranferError","uri","fileTransfer","FileTransfer","fileURL","toURL","download","entry","openPDFViewer","onError","mimeType","cordova","plugins","temenos","OpenFileInExternalViewer","viewDocument","source","target","platform","SYSWORDS","deviceLookup","StringUtils","process","URL","filename","FileName","open"],"mappings":"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","file":"../../../HybridTemplate/html/js/widgets/hybrid/hybrid.js","sourcesContent":["/*eslint-disable no-unused-vars*/\r\nimport Camera    \t\tfrom \"./camera\";\r\nimport Notification    \tfrom \"./notifications\";\r\nimport Accelerometer \tfrom \"./accelerometer\";\r\nimport GeoLocation      from \"./geolocation\";\r\nimport BackButton       from \"./back\";\r\nimport GetContacts      from \"./getContacts\"\r\nimport AddContact       from \"./addContact\"\r\nimport ViewPDFAndroid   from \"./viewPDFAndroid\"\r\n\r\n/*eslint-enable no-unused-vars*/\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/app-hybrid.js","import React from 'react';\r\n\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class Camera extends React.Component {\r\n  constructor() {\r\n      super();\r\n      this.takePicture = this.takePicture.bind(this);\r\n    }\r\n\r\n  takePicture(button) {\r\n    const widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n    var cameraOptions = {\r\n      quality:        widgetAttrs.Quality,\r\n      sourceType:     widgetAttrs.Source.indexOf(\"CAMERA\") > -1 \r\n                        ? navigator.camera.PictureSourceType.CAMERA\r\n                        : navigator.camera.PictureSourceType.SAVEDPHOTOALBUM ,\r\n      destinationType:navigator.camera.DestinationType.DATA_URL\r\n    }\r\n\r\n\r\n    const onSuccess = (imageData) => { \r\n      this.props.store.setValue(this.props.componentId + widgetAttrs.DI_NAME, imageData);\r\n      this.props.setProperty(\"\");\r\n\r\n      if (widgetAttrs.SuccessMessage != null && widgetAttrs.SuccessMessage != \"\") {\r\n        navigator.notification.alert(widgetAttrs.SuccessMessage, \r\n                                     () => {}, \r\n                                     widgetAttrs.NotificationTitle, \r\n                                     widgetAttrs.NotificationCloseText);\r\n      }\r\n      if (widgetAttrs.RunButtonRules == \"Y\") {\r\n        this.props.doClick(button);\r\n      }\r\n      else {\r\n        //event.stopPropagation();\r\n        return false;\r\n      }\r\n    }  \r\n\r\n    const onFail = () => { \r\n      if (widgetAttrs.ErrorMessage != \"\") {\r\n          navigator.notification.alert(widgetAttrs.ErrorMessage, \r\n                                       () => {}, \r\n                                       widgetAttrs.NotificationTitle, \r\n                                       widgetAttrs.NotificationCloseText);\r\n      }\r\n      event.preventDefault();\r\n    } \r\n\r\n    navigator.camera.getPicture(onSuccess, onFail, cameraOptions);  \r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <ButtonComponent {...this.props} doClick={this.takePicture} />\r\n    );\r\n  }\r\n}\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.camera.addImage\", Camera)\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/camera.js","import React from 'react';\r\n\r\nimport UXUtils              from \"../../utils/UXUtils\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class Notification extends React.Component {\r\n  constructor() {\r\n      super();\r\n      this.state = {\r\n        runNotify: true\r\n      }\r\n\r\n      this.runNotifications = this.runNotifications.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const isApplicable = UXUtils.isApplicable(this.props.view.appCond, this.props);\r\n    this.state = {\r\n      runNotify: isApplicable\r\n    }\r\n    this.runNotifications()\r\n  }\r\n  componentDidUpdate(newProps, state) {\r\n    const isApplicable = UXUtils.isApplicable(newProps.view.appCond, newProps);\r\n    const currentState = state.runNotify;\r\n\r\n    //dont run again if already run\r\n    this.state = {\r\n      runNotify: !currentState && isApplicable\r\n    }\r\n\r\n    this.runNotifications()\r\n  }\r\n\r\n  runNotifications() {\r\n    if (!this.state.runNotify)\r\n      return;\r\n\r\n    const widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n    if (widgetAttrs.Action == \"alert\") {\r\n      const message=widgetAttrs.message,title=widgetAttrs.title;     \r\n      navigator.notification.alert(message, () => {}, title, \"\");\r\n    }\r\n    else if (widgetAttrs.Action == \"beep\" ) {\r\n      const times=isNaN(widgetAttrs.times)?  1 : widgetAttrs.times - 0;\r\n      navigator.notification.beep(times);     \r\n    }\r\n    else if (widgetAttrs.Action == \"vibrate\" ) {\r\n      const time=isNaN(widgetAttrs.time)? 3000 : widgetAttrs.time - 0;\r\n      navigator.vibrate(time);\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nUXPComponentFactory.add(\"Text|com.temenos.widgets.hybrid.notifications.notify\", Notification)\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/notifications.js","import React from 'react';\r\nimport ReactDOM             from \"react-dom\";\r\n\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class Accelerometer extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            started: false,\r\n            watchId: null,\r\n            previousAcceleration: { x: null, y: null, z: null }\r\n        }\r\n\r\n        this.startWatch                 = this.startWatch.bind(this);\r\n        this.stopWatch                  = this.stopWatch.bind(this);\r\n        this.getAccelerationSnapshot    = this.getAccelerationSnapshot.bind(this);\r\n        this.assessCurrentAcceleration  = this.assessCurrentAcceleration.bind(this);\r\n        this.handleError                = this.handleError.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.state.started) {\r\n            this.startWatch();\r\n        }\r\n\r\n        var button = ReactDOM.findDOMNode(this.buttonComponent);\r\n        if (this.props.view.widgetAttributes.ShakeOpt == \"Y\") {\r\n            this.addEvent('shakeDetected', () => {\r\n                this.stopWatch();\r\n                this.props.doClick(button);\r\n            });\r\n        }\r\n        else if (this.props.view.widgetAttributes.UpSideDown == \"Y\") {\r\n            this.addEvent('faceDownDetected', () => {\r\n                this.stopWatch();\r\n                this.props.doClick(button);\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.started) {\r\n            this.stopWatch();\r\n        }\r\n    }\r\n\r\n    startWatch() {\r\n        const options = { frequency: Number(this.props.view.widgetAttributes.Frequency) }\r\n        const watchId = navigator.accelerometer.watchAcceleration(this.getAccelerationSnapshot, this.handleError, options);\r\n        this.setState({\r\n            started: true,\r\n            watchId: watchId\r\n        })\r\n    }\r\n\r\n    stopWatch() {\r\n        if (this.state.watchId !== null) {\r\n            navigator.accelerometer.clearWatch(this.state.watchId);\r\n            this.state.watchId = null;\r\n        }\r\n        this.state.started=false;\r\n    }\r\n\r\n    // Gets the current acceleration snapshot from the last accelerometer watch\r\n    getAccelerationSnapshot() {\r\n        navigator.accelerometer.getCurrentAcceleration(this.assessCurrentAcceleration, this.handleError);\r\n    }\r\n\r\n    triggerEvent(eventName) {\r\n        if(document.createEvent) {\r\n            var event = document.createEvent('Event');\r\n            event.initEvent(eventName, true, true);\r\n            document.dispatchEvent(event);\r\n        } else {\r\n            document.documentElement[eventName]++;\r\n        }\r\n    }\r\n\r\n    addEvent(eventName, callback) {\r\n        if(document.addEventListener) {\r\n            document.addEventListener(eventName, callback, false);\r\n        } else {    \r\n            document.documentElement.attachEvent('onpropertychange', (e) => {\r\n                if(e.propertyName  == eventName) {\r\n                    callback();\r\n                }            \r\n            });\r\n        }\r\n    }\r\n\r\n    removeEvent(eventName, callback) {\r\n        if (document.removeEventListener) {\r\n          document.removeEventListener(eventName, callback, false);\r\n        } else {\r\n          document.documentElement.detachEvent('onpropertychange', callback);\r\n        }\r\n    }\r\n    \r\n    // Assess the current acceleration parameters to determine a shake\r\n    assessCurrentAcceleration(acceleration) {\r\n        var accelerationChange = {};\r\n        let previousAcceleration = this.state.previousAcceleration;\r\n\r\n        if (previousAcceleration.x !== null) {\r\n            accelerationChange.x = Math.abs(previousAcceleration.x - acceleration.x);\r\n            accelerationChange.y = Math.abs(previousAcceleration.y - acceleration.y);\r\n            accelerationChange.z = Math.abs(previousAcceleration.z - acceleration.z);\r\n        }\r\n        if (acceleration.z < -9 ){\r\n            this.triggerEvent('faceDownDetected');\r\n            this.stopWatch();\r\n            setTimeout(this.startWatch, 1000);\r\n            previousAcceleration = {x: null, y: null, z: null }\r\n        } \r\n        else if ((accelerationChange.x + accelerationChange.y + accelerationChange.z > 20) ) {\r\n            this.triggerEvent('shakeDetected');\r\n            this.stopWatch();\r\n            setTimeout(this.startWatch, 1000);\r\n            previousAcceleration = { x: null, y: null, z: null}\r\n        }\r\n        else {\r\n            previousAcceleration = {x: acceleration.x, y: acceleration.y,z: acceleration.z}\r\n        }\r\n        //not sure if this is needed...\r\n        this.state.previousAcceleration = previousAcceleration;\r\n    }\r\n    \r\n    // Handle errors here\r\n    handleError(e) {\r\n       console.log(e);\r\n    }\r\n\r\n\r\n    render() {\r\n        return this.props.view.widgetAttributes.button_body == \"Y\"\r\n            ?   <ButtonComponent {...this.props} ref={(bc)=>this.buttonComponent = bc} /> \r\n            :   <div style={{display: \"none\"}}>\r\n                    <ButtonComponent {...this.props}  ref={(bc)=>this.buttonComponent = bc} /> \r\n                </div>;\r\n    }\r\n\r\n}\r\n\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.accelerometer.detectGestures\", Accelerometer)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/accelerometer.js","import React from 'react';\r\n\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class GeoLocation extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            lat:     null,\r\n            long:     null,\r\n            acc:     null,\r\n            alt:     null,\r\n            ts:     null\r\n        }\r\n\r\n        this.getCoordinates = this.getCoordinates.bind(this);\r\n        this.success         = this.success.bind(this);\r\n        this.failure         = this.failure.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getCoordinates();\r\n    }\r\n\r\n    getCoordinates() {\r\n        navigator.geolocation.getCurrentPosition(this.success, this.failure)\r\n    }\r\n\r\n    success(position) {\r\n        const store = this.props.store,\r\n              widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n        this.setState({\r\n            lat:     position.coords.latitude,\r\n            long:     position.coords.longitude,\r\n            acc:     position.coords.accuracy,\r\n            alt:     position.coords.altitude,\r\n            ts:     position.timestamp\r\n        })\r\n        store.setVariable(widgetAttrs.latitude, this.props.componentId,  position.coords.latitude)\r\n        store.setVariable(widgetAttrs.longitude,this.props.componentId,  position.coords.longitude)\r\n        store.setVariable(widgetAttrs.accuracy, this.props.componentId,  position.coords.accuracy)\r\n        store.setVariable(widgetAttrs.altitude, this.props.componentId,  position.coords.altitude)\r\n        store.setVariable(widgetAttrs.timeStamp,this.props.componentId,  position.timestamp)\r\n        //triggers refresh of tree\r\n        this.props.setProperty(\"\")\r\n    } \r\n    failure(error) { \r\n        alert('code: ' + error.code + '\\n' +\r\n              'message: ' + error.message + '\\n');\r\n    }\r\n\r\n    render() {\r\n        const widgetAttrs = this.props.view.widgetAttributes;\r\n        return (\r\n            <React.Fragment>\r\n                <ButtonComponent {...this.props} doClick={this.getCoordinates} /> {\r\n                this.state.lat != null && \r\n                    <input type=\"hidden\" name={\"_V_\" + widgetAttrs.latitude} value={this.state.lat} onChange={()=>{}} /> }{\r\n                this.state.long != null && \r\n                    <input type=\"hidden\" name={\"_V_\" + widgetAttrs.longitude} value={this.state.long} onChange={()=>{}}/> }{\r\n                this.state.acc != null && \r\n                    <input type=\"hidden\" name={\"_V_\" + widgetAttrs.accuracy} value={this.state.acc} onChange={()=>{}}  /> }{\r\n                this.state.alt != null && \r\n                    <input type=\"hidden\" name={\"_V_\" + widgetAttrs.altitude} value={this.state.alt} onChange={()=>{}}  /> }{\r\n                this.state.ts != null && \r\n                    <input type=\"hidden\" name={\"_V_\" + widgetAttrs.timeStamp} value={this.state.ts} onChange={()=>{}}  /> }\r\n            </React.Fragment>\r\n        ) \r\n    }\r\n\r\n}\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.geolocation.deviceLocation\", GeoLocation)\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/geolocation.js","import React from 'react';\r\nimport ReactDOM             from \"react-dom\";\r\n\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class BackButton extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.goBack = this.goBack.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"backbutton\", this.goBack, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"backbutton\", this.goBack, false);\r\n    }\r\n\r\n    goBack() {\r\n        const button = ReactDOM.findDOMNode(this.buttonComponent);\r\n        this.props.doClick(button);\r\n    }\r\n\r\n    render() {\r\n        return this.props.view.widgetAttributes.button_body == \"Y\" \r\n            ? <ButtonComponent {...this.props} doClick={this.goBack} ref={(bc)=>this.buttonComponent = bc } /> \r\n            : <div style={{display: \"none\"}}>\r\n                    <ButtonComponent {...this.props} doClick={this.goBack} ref={(bc)=>this.buttonComponent = bc }/> \r\n              </div>\r\n    }\r\n}\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.events.backbutton\", BackButton)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/back.js","import React from 'react';\r\n\r\nimport TableComponent      from \"../../components/Table\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class GetContacts extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getContacts = this.getContacts.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.populateField = this.populateField.bind(this);\r\n\r\n        this.getContacts();\r\n    }\r\n    \r\n    setValue(val, fieldDataItem, typeDataItem, instance) {\r\n        if (Array.isArray(val)) {\r\n            for (let j = 0; j < val.length; j++) {\r\n                const fieldVal = (val[j].value == null) ? val[j] : val[j].value; \r\n                this.populateField(fieldDataItem, fieldVal, instance + \"_\"  + (j+1))\r\n\r\n                //extract the type\r\n                if (fieldVal && fieldVal.length > 0) {\r\n                    const typeVal = (val[j].type == null) ? \"\" : val[j].type; \r\n                    this.populateField(typeDataItem, typeVal, instance + \"_\"  + (j+1))\r\n                }\r\n            }\r\n\r\n        } else {\r\n            this.populateField(fieldDataItem, val, instance)\r\n        }\r\n    }\r\n\r\n    populateField(dataItemName, value, instance) {\r\n        const processedName = this.props.store.processName(this.props.componentId + dataItemName, instance);\r\n        this.props.store.setValue(processedName, value)\r\n    }\r\n\r\n    getContacts() {\r\n        let options          = new ContactFindOptions();\r\n            options.multiple = true;\r\n        const fields = [\"*\"],\r\n              widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n        navigator.contacts.find(   \r\n            fields, \r\n            (contacts) => {     \r\n                this.props.view.maxInstances = contacts.length;\r\n\r\n                for (let i = 0; i < contacts.length; i++) {\r\n                    this.setValue(contacts[i].name.formatted,   widgetAttrs.DI_NAME,    null, i+1);  //instances start from 1\r\n                    this.setValue(contacts[i].phoneNumbers,     widgetAttrs.DI_NUMBERS, widgetAttrs.DI_NUMBERS_TYPE, i+1);\r\n                    this.setValue(contacts[i].emails,           widgetAttrs.DI_EMAILS,  widgetAttrs.DI_EMAILS_TYPE, i+1);\r\n                    this.setValue(contacts[i].urls,             widgetAttrs.DI_URLS,    widgetAttrs.DI_URLS_TYPE, i+1);\r\n                    this.setValue(contacts[i].note,             widgetAttrs.DI_NOTE,     null, i+1);\r\n                }\r\n                this.props.setProperty(\"\")\r\n            }, \r\n            () => {                                         \r\n                alert(this.props.view.ErrorMessage)         \r\n            }, \r\n            options);\r\n    }\r\n\r\n    render() {\r\n        return this.props.view.widgetAttributes.GEN_TABLE == \"Y\" \r\n            ? <TableComponent {...this.props} /> \r\n            : <div style={{display: \"none\"}}>\r\n                    <TableComponent {...this.props} /> \r\n              </div>\r\n    }\r\n}\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.contacts.getContacts\", GetContacts)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/getContacts.js","import React from 'react';\r\n\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class AddContact extends React.Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.firstName = \"\";\r\n        this.middleName = \"\";\r\n        this.lastName = \"\";\r\n\r\n        this.addContact = this.addContact.bind(this);\r\n        this.removeExisting = this.removeExisting.bind(this);\r\n        this.createContact = this.createContact.bind(this);\r\n    }\r\n    \r\n    static makeContactArray(input)\r\n    {\r\n        const types = [\"home\", \"mobile\", \"work\", \"other\"];\r\n        let   tIndex = 0,\r\n              arr = [],\r\n              tmpArr = input.split(\",\");\r\n        \r\n        for (var i = 0;  i < tmpArr.length; i++) {\r\n            tIndex = ( i > (types.length - 1)) ? types.length - 1 : i ;\r\n            arr[i] = new ContactField( types[tIndex], tmpArr[i].trim(), i == 0 ? true : false)\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    removeExisting(contacts, contact) {\r\n        const   diSplitNames = contact.split(\" \")\r\n\r\n        this.firstName    = diSplitNames[0]\r\n        this.middleName   = diSplitNames.reduce((acc, curr, index, arr) => { \r\n            return (\r\n            index == 0 || index == arr.length - 1 ? \r\n                acc :\r\n                acc + ((index == 1) ? \"\" : \" \") + curr\r\n            )\r\n        }, \"\")\r\n        this.lastName     = diSplitNames.length > 1 ? diSplitNames[diSplitNames.length - 1] : \"\";\r\n\r\n        if (contacts.length > 0) { \r\n            for (var i = contacts.length -1; i >=0; i--) {\r\n                //remove existing matched contacts - \r\n                //the update didn't work too well - \r\n                //the urls and notes kept being appended to \r\n                if (contacts[i].name.givenName == this.firstName && \r\n                    contacts[i].name.middleName == this.middleName && \r\n                    contacts[i].name.familyName == this.lastName)\r\n                    contacts[i].remove(); \r\n            }\r\n        } \r\n    }\r\n\r\n    createContact(contact) {\r\n        const store = this.props.store,\r\n              widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n        const   phoneNums = store.getValue(widgetAttrs.DI_NUMBERS, this.props.instance),\r\n                emails    = store.getValue(widgetAttrs.DI_EMAILS, this.props.instance),\r\n                urls      = store.getValue(widgetAttrs.DI_URLS, this.props.instance),\r\n                notes     = store.getValue(widgetAttrs.DI_NOTE, this.props.instance);\r\n  \r\n        let myContact = navigator.contacts.create();    \r\n                myContact.displayName   = contact;\r\n                myContact.phoneNumbers  = AddContact.makeContactArray(phoneNums);\r\n                myContact.emails        = AddContact.makeContactArray(emails);\r\n                myContact.urls          = AddContact.makeContactArray(urls);\r\n                myContact.note          = notes;\r\n\r\n        let name = new ContactName();\r\n            name.givenName  = this.firstName;\r\n            name.middleName = this.middleName;\r\n            name.familyName = this.lastName;\r\n            myContact.name  = name;\r\n\r\n        return myContact;\r\n    }\r\n\r\n    addContact(event) {\r\n        const store = this.props.store,\r\n              widgetAttrs = this.props.view.widgetAttributes;\r\n\r\n        let options             = new ContactFindOptions();\r\n            options.filter      = store.getValue(widgetAttrs.DI_NAME, this.props.instance);\r\n            options.multiple    = true; \r\n        const fields        = [\"displayName\", \"name\"];\r\n        navigator.contacts.find(                                \r\n            fields, \r\n            (contacts) => {  \r\n                let contact = store.getValue(widgetAttrs.DI_NAME, this.props.instance);\r\n                if (contact == null || contact == \"\") {\r\n                    if (widgetAttrs.ErrorMessage) {\r\n                        navigator.notification.alert( widgetAttrs.ErrorMessage, function(){}, \"Contacts\", \"Close\");\r\n                    }\r\n                    return false;\r\n                }  \r\n                \r\n                this.removeExisting(contacts, contact);\r\n                const myContact = this.createContact(contact);\r\n\r\n                myContact.save(  \r\n                    //success                              \r\n                    () => {\r\n                        if (widgetAttrs.SuccessMessage != null) {\r\n                            navigator.notification.alert(widgetAttrs.SuccessMessage, function(){}, \"Contacts\", \"Close\");\r\n                        }\r\n                        if (widgetAttrs.RunButtonRules == \"Y\") {\r\n                            this.props.doClick(event)\r\n                        } else {\r\n                            return false;\r\n                        }\r\n                    },\r\n                    //failure\r\n                    () => { \r\n                        if (widgetAttrs.ErrorMessage) {\r\n                            navigator.notification.alert( widgetAttrs.ErrorMessage, function(){}, \"Contacts\", \"Close\");\r\n                        }\r\n                    }\r\n                )\r\n            },\r\n            function(){  \r\n                alert(widgetAttrs.ErrorMessage);      \r\n            }, \r\n            options\r\n        );             \r\n    }\r\n\r\n\r\n\trender() {\r\n\t\treturn <ButtonComponent {...this.props} doClick={ this.addContact } /> \r\n\t}\r\n}\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.contacts.addContact\", AddContact)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/addContact.js","import React from 'react';\r\n\r\nimport SYSWORDS             from \"../../utils/SYSWORDS\"\r\nimport ButtonComponent      from \"../../components/controls/Button\";\r\nimport UXPComponentFactory  from \"../../utils/UXPComponentFactory\";\r\n\r\nexport default class ViewPDF extends React.Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.viewPDF     = this.viewPDF.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n    }\r\n    \r\n    viewPDF(url, fileName) {\r\n        var debug_mode = false;\r\n                \r\n        var isAbsoluteUrl = /^([a-z]+:\\/\\/|\\/\\/)/i.test(url);\r\n        \r\n        var absoluteUrl = isAbsoluteUrl ? url: [location.protocol, '//', location.host, url.replace(/^\\/?/, '/')].join('')\r\n        var progressIndicatorEnabled = true;\r\n\r\n        //show the progress indicator, if enabled in the hybrid shell\r\n        progressIndicatorEnabled = (typeof showProgress === \"function\") && (typeof closeProgress === \"function\");\r\n    \r\n        if (!fileName) {\r\n            var parts = absoluteUrl.split('/');\r\n            fileName = parts.pop() ? parts.pop() : 'report.pdf'; \r\n        }\r\n        \r\n        if(progressIndicatorEnabled) {\r\n            showProgress();\r\n        }\r\n\r\n        window.requestFileSystem(window.TEMPORARY , 0, function (fs) {\r\n            logDebugMessage('file system open: ' + fs.name);\r\n            fs.root.getFile(fileName, { create: true, exclusive: false }, function (fileEntry) {\r\n                downloadFile(fileEntry, absoluteUrl);\r\n            }, onFileTranferError);\r\n        }, onFileTranferError);\r\n\r\n        var downloadFile = function(fileEntry, uri) {\r\n            var fileTransfer = new FileTransfer();\r\n            var fileURL = fileEntry.toURL();\r\n\r\n            fileTransfer.download(\r\n                uri,\r\n                fileURL,\r\n                function (entry) {\r\n                    logDebugMessage('file transfer complete: ' + entry.toURL());\r\n                    openPDFViewer(fileEntry);\r\n                    if(progressIndicatorEnabled) {\r\n                        closeProgress();\r\n                    }\r\n                },\r\n                onFileTranferError,\r\n                null, // or, pass false\r\n                {\r\n                    //headers: {\r\n                    //    'Authorization': 'Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=='\r\n                    //}\r\n                }\r\n            );\r\n        };\r\n        \r\n        var openPDFViewer = function (fileEntry) {\r\n            var url = fileEntry.toURL();\r\n\r\n            var onError = function (error){\r\n                console.log(error);\r\n            };\r\n\r\n            var mimeType = 'application/pdf';\r\n            cordova.plugins.temenos.OpenFileInExternalViewer.viewDocument(url, mimeType, onError);\r\n        };    \r\n        \r\n        var onFileTranferError = function(error) {\r\n            console.log('download error source ' + error.source);\r\n            console.log('download error target ' + error.target);\r\n            console.log('download error code' + error.code);\r\n        };\r\n        \r\n        var logDebugMessage = function (message) {\r\n            if (debug_mode) {\r\n                console.log(message);\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n    handleClick() {\r\n        const platform = SYSWORDS.deviceLookup(this.props.store, \"DEVICE_INFO.platform\"),\r\n              url      = StringUtils.process( this.props.view.widgetAttributes.URL, { ...this.props} ),\r\n              filename = StringUtils.process( this.props.view.widgetAttributes.FileName, { ...this.props} );\r\n\r\n        if (platform == \"Android\") {\r\n            this.viewPDF(url, filename)\r\n        } else {\r\n            window.open(url, \"_blank\", \"location=no\")\r\n        }\r\n    }\r\n    \r\n   \r\n\trender() {\r\n\t\treturn <ButtonComponent {...this.props} doClick={ this.handleClick } /> \r\n\t}\r\n}\r\n\r\nUXPComponentFactory.add(\"com.temenos.widgets.hybrid.viewPDFAndroid\", ViewPDF)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/widgets/hybrid/viewPDFAndroid.js"],"sourceRoot":""}